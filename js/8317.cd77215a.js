(self.webpackChunk_varlet_ui=self.webpackChunk_varlet_ui||[]).push([[8317],{8317:(e,r,n)=>{"use strict";n.d(r,{Z:()=>k});var l,t=n(7875),a=n(349),o={class:"var-slider"},i={class:"var-slider__track"},s=n(641),u=n(5831),c=n(9347),d=n(4268),b=n(8442),v={modelValue:{type:[Number,Array],default:0},step:{type:[Number,String],default:1},range:{type:Boolean,default:!1},labelVisible:{type:String,default:"normal",validator:function(e){return["always","normal","never"].includes(e)}},activeColor:{type:String},trackColor:{type:String},thumbColor:{type:String},labelColor:{type:String},labelTextColor:{type:String},trackHeight:{type:[String,Number]},thumbSize:{type:[String,Number]},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},rules:{type:Array},onChange:{type:Function},onStart:{type:Function},onEnd:{type:Function},"onUpdate:modelValue":{type:Function}},m=n(2106);const p=(0,t.aZ)({name:"VarSlider",components:(l={},l[m.Z.name]=m.Z,l),props:v,setup:function(e){var r=(0,c.cI)(),n=r.bindForm,l=r.form,a=(0,u.V$)(),o=a.errorMessage,i=a.validateWithTrigger,v=a.validate,m=a.resetValidation,p=(0,s.iH)(null),h=(0,s.iH)(0),f=(0,s.iH)(!1),g=(0,s.qj)({startPosition:0,currentLeft:0,active:!1,percentValue:0}),_=(0,s.qj)({startPosition:0,currentLeft:0,active:!1,percentValue:0}),k=(0,t.Fl)((function(){return h.value/100*(0,b.He)(e.step)})),y=(0,t.Fl)((function(){return"always"===e.labelVisible||"never"!==e.labelVisible&&g.active})),x=(0,t.Fl)((function(){return"always"===e.labelVisible||"never"!==e.labelVisible&&_.active})),V=(0,t.Fl)((function(){var r=e.activeColor,n=e.range,l=e.modelValue;return{width:(n&&(0,b.kJ)(l)?Math.abs(l[0]-l[1]):l)+"%",left:(n&&(0,b.kJ)(l)?Math.min(l[0],l[1]):0)+"%",background:r}})),z=(0,t.Fl)((function(){return e.disabled||(null==l?void 0:l.disabled.value)})),w=(0,t.Fl)((function(){return e.readonly||(null==l?void 0:l.readonly.value)})),S=function(r,n){var l,a,o,s=[],u=e.step,c=e.range,d=e.modelValue,v=e.onChange,m=(0,b.He)(u),p=Math.round(r/k.value)*m;(1===n?(l=g.percentValue,g.percentValue=p/m,c&&(0,b.kJ)(d)&&(s=[p,d[1]])):(l=_.percentValue,_.percentValue=p/m,c&&(0,b.kJ)(d)&&(s=[d[0],p])),l!==p)&&(c?(null==v||v(s),null==(a=e["onUpdate:modelValue"])||a.call(e,s)):(null==v||v(p),null==(o=e["onUpdate:modelValue"])||o.call(e,p)),(0,t.Y3)((function(){return i(["onChange"],"onChange",e.rules,e.modelValue)})))},C=function(r){var n=e.range,l=e.modelValue,t=e.onEnd;if(!z.value&&!w.value){var a=[],o=1===r?g:_;o.currentLeft=o.percentValue*k.value,o.active=!1;var i=o.percentValue;n&&(0,b.kJ)(l)&&(a=1===r?[i,l[1]]:[l[0],i]),n?null==t||t(a):null==t||t(i),f.value=!1}},P=function(){var r=(0,b.He)(e.step);return isNaN(r)?(console.warn('[Varlet] Slider: type of prop "step" should be Number'),!1):r<1||r>100?(console.warn('[Varlet] Slider: "step" should be >= 0 and <= 100'),!1):parseInt(""+e.step,10)===r||(console.warn('[Varlet] Slider: "step" should be an Integer'),!1)},W=function(){var r=e.range,n=e.modelValue;return r&&!(0,b.kJ)(n)?(console.error('[Varlet] Slider: "modelValue" should be an Array'),!1):!r&&(0,b.kJ)(n)?(console.error('[Varlet] Slider: "modelValue" should be a Number'),!1):!(r&&(0,b.kJ)(n)&&n.length<2&&(console.error('[Varlet] Slider: "modelValue" should have two value'),1))},F=function(r,n){void 0===r&&(r=e.modelValue),void 0===n&&(n=(0,b.He)(e.step)),e.range&&(0,b.kJ)(r)?(g.percentValue=r[0]/n,_.percentValue=r[1]/n,g.currentLeft=g.percentValue*k.value,_.currentLeft=_.percentValue*k.value):(0,b.hj)(r)&&(g.currentLeft=r/n*k.value)};return(0,t.YP)([function(){return e.modelValue},function(){return e.step}],(function(e){var r=e[0],n=e[1];P()&&W()&&!f.value&&F(r,(0,b.He)(n))})),(0,t.YP)(h,(function(){return F()})),(0,t.bv)((function(){P()&&W()&&(h.value=p.value.offsetWidth)})),null==n||n({reset:function(){var r,n=e.range?[0,0]:0;null==(r=e["onUpdate:modelValue"])||r.call(e,n),m()},validate:function(){return v(e.rules,e.modelValue)},resetValidation:m}),{sliderEl:p,thumbProps1:g,thumbProps2:_,showLabel1:y,showLabel2:x,getFillStyle:V,isDisabled:z,errorMessage:o,start:function(r,n){h.value||(h.value=p.value.offsetWidth),z.value||w.value||(null==e.onStart||e.onStart(),f.value=!0,1===n?g.startPosition=r.touches[0].clientX:_.startPosition=r.touches[0].clientX)},move:function(e,r){var n;z.value||w.value||!f.value||(1===r?(g.active=!0,n=e.touches[0].clientX-g.startPosition+g.currentLeft):(_.active=!0,n=e.touches[0].clientX-_.startPosition+_.currentLeft),n<=0?n=0:n>=h.value&&(n=h.value),S(n,r))},end:C,click:function(r){if(!z.value&&!w.value&&!r.target.closest(".var-slider__thumb")){var n=r.clientX-(0,d.IS)(r.currentTarget),l=function(r){if(!e.range)return 1;var n=g.percentValue*k.value,l=_.percentValue*k.value;return Math.abs(r-n)<=Math.abs(r-l)?1:2}(n);S(n,l),C(l)}}}}});var h=n(6062),f=n.n(h),g=n(8681);f()(g.Z,{insert:"head",singleton:!1}),g.Z.locals,p.render=function(e,r,n,l,s,u){var c=(0,t.up)("var-form-details");return(0,t.wg)(),(0,t.j4)("div",o,[(0,t.Wm)("div",{class:["var-slider-block",[e.isDisabled?"var-slider__disable":null,e.errorMessage?"var-slider__error":null]],style:{height:3*e.thumbSize+"px",margin:"0 "+e.thumbSize/2+"px"},ref:"sliderEl",onClick:r[9]||(r[9]=function(){return e.click&&e.click.apply(e,arguments)})},[(0,t.Wm)("div",i,[(0,t.Wm)("div",{class:"var-slider__track-background",style:{background:e.trackColor,height:e.trackHeight+"px"}},null,4),(0,t.Wm)("div",{class:"var-slider__track-fill",style:e.getFillStyle},null,4)]),(0,t.Wm)("div",{class:"var-slider__thumb",style:{left:(e.range?e.modelValue[0]:e.modelValue)+"%",zIndex:e.thumbProps1.active?1:null},onTouchstart:r[1]||(r[1]=function(r){return e.start(r,1)}),onTouchmove:r[2]||(r[2]=function(r){return e.move(r,1)}),onTouchend:r[3]||(r[3]=function(r){return e.end(1)}),onTouchcancel:r[4]||(r[4]=function(r){return e.end(1)})},[(0,t.Wm)("div",{class:"var-slider__thumb-block",style:{background:e.thumbColor,height:e.thumbSize+"px",width:e.thumbSize+"px"}},null,4),(0,t.Wm)("div",{class:["var-slider__thumb-ripple",[e.thumbProps1.active?"var-slider__thumb-ripple-active":null]],style:{background:e.thumbColor,height:e.thumbSize?e.thumbProps1.active?3*e.thumbSize+"px":"0px":null,width:e.thumbSize?e.thumbProps1.active?3*e.thumbSize+"px":"0px":null}},null,6),(0,t.Wm)("div",{class:["var-slider__thumb-label",[e.showLabel1?"var-slider__thumb-label-active":null]],style:{background:e.labelColor,color:e.labelTextColor,height:2*e.thumbSize+"px",width:2*e.thumbSize+"px"}},[(0,t.Wm)("span",null,(0,a.zw)(e.range?e.modelValue[0]:e.modelValue),1)],6)],36),e.range?((0,t.wg)(),(0,t.j4)("div",{key:0,class:"var-slider__thumb",style:{left:(e.range&&e.modelValue[1])+"%",zIndex:e.thumbProps2.active?1:null},onTouchstart:r[5]||(r[5]=function(r){return e.start(r,2)}),onTouchmove:r[6]||(r[6]=function(r){return e.move(r,2)}),onTouchend:r[7]||(r[7]=function(r){return e.end(2)}),onTouchcancel:r[8]||(r[8]=function(r){return e.end(2)})},[(0,t.Wm)("div",{class:"var-slider__thumb-block",style:{background:e.thumbColor,height:e.thumbSize+"px",width:e.thumbSize+"px"}},null,4),(0,t.Wm)("div",{class:["var-slider__thumb-ripple",[e.thumbProps2.active?"var-slider__thumb-ripple-active":null]],style:{background:e.thumbColor,height:e.thumbSize?e.thumbProps2.active?3*e.thumbSize+"px":"0px":null,width:e.thumbSize?e.thumbProps2.active?3*e.thumbSize+"px":"0px":null}},null,6),(0,t.Wm)("div",{class:["var-slider__thumb-label",[e.showLabel2?"var-slider__thumb-label-active":null]],style:{background:e.labelColor,color:e.labelTextColor,height:2*e.thumbSize+"px",width:2*e.thumbSize+"px"}},[(0,t.Wm)("span",null,(0,a.zw)(e.range&&e.modelValue[1]),1)],6)],36)):(0,t.kq)("v-if",!0)],6),(0,t.Wm)(c,{"error-message":e.errorMessage,class:"var-slider__form","var-slider-cover":""},null,8,["error-message"])])};const _=p;_.install=function(e){e.component(_.name,_)};const k=_},8681:(e,r,n)=>{"use strict";n.d(r,{Z:()=>a});var l=n(2609),t=n.n(l)()((function(e){return e[1]}));t.push([e.id,".var--box {\n  box-sizing: border-box;\n}\n.var--box * {\n  box-sizing: border-box;\n}\n.var--relative {\n  position: relative;\n}\n.var--absolute {\n  position: absolute;\n}\n.var--hidden {\n  overflow: hidden;\n}\n.var--lock {\n  overflow: hidden;\n}\n.var--block {\n  display: block;\n}\n.var--inline-block {\n  display: inline-block;\n}\n.var--flex {\n  display: flex;\n}\n.var--inline-flex {\n  display: inline-flex;\n}\n:root {\n  --font-size-xs: 10px;\n  --font-size-sm: 12px;\n  --font-size-md: 14px;\n  --font-size-lg: 16px;\n  --icon-size-xs: 16px;\n  --icon-size-sm: 18px;\n  --icon-size-md: 20px;\n  --icon-size-lg: 22px;\n  --color-primary: #3a7afe;\n  --color-info: #00afef;\n  --color-success: #00c48f;\n  --color-warning: #ff9f00;\n  --color-danger: #f44336;\n  --color-disabled: #e0e0e0;\n  --cubic-bezier: cubic-bezier(0.25, 0.8, 0.5, 1);\n  --shadow-key-umbra-opacity: rgba(0, 0, 0, 0.2);\n  --shadow-key-penumbra-opacity: rgba(0, 0, 0, 0.14);\n  --shadow-key-ambient-opacity: rgba(0, 0, 0, 0.12);\n}\n:root {\n  --form-details-error-color: var(--color-danger);\n  --form-details-length-color: #888;\n  --form-details-margin-top: 6px;\n  --form-details-font-size: 12px;\n  --form-details-message-margin-right: 4px;\n}\n.var-form-details-enter-from,\n.var-form-details-leave-to {\n  opacity: 0;\n  margin-top: 2px !important;\n}\n.var-form-details-enter-active,\n.var-form-details-leave-active {\n  transition: 0.2s all var(--cubic-bezier);\n}\n.var-form-details {\n  display: flex;\n  justify-content: space-between;\n  font-size: var(--form-details-font-size);\n  margin-top: var(--form-details-margin-top);\n}\n.var-form-details__message {\n  flex-grow: 1;\n  color: var(--form-details-error-color);\n  margin-right: var(--form-details-message-margin-right);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  text-align: left;\n}\n.var-form-details__length {\n  flex-shrink: 0;\n  color: var(--form-details-length-color);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  text-align: right;\n}\n:root {\n  --slider-error-color: var(--color-danger);\n  --slider-track-background: #bdbdbd;\n  --slider-track-fill-background: var(--color-primary);\n  --slider-thumb-block-background: var(--color-primary);\n  --slider-thumb-ripple-background: var(--color-primary);\n  --slider-thumb-label-background: var(--color-primary);\n  --slider-thumb-label-font-size: var(--font-size-sm);\n}\n.var-slider {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.var-slider-block {\n  display: flex;\n  align-items: center;\n  position: relative;\n  flex: 1;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  height: 36px;\n  margin: 0 6px;\n}\n.var-slider__disable {\n  filter: opacity(0.6);\n}\n.var-slider__track {\n  width: 100%;\n  align-items: center;\n  position: relative;\n}\n.var-slider__track-background {\n  width: 100%;\n  height: 2px;\n  background: var(--slider-track-background);\n}\n.var-slider__track-fill {\n  position: absolute;\n  height: 100%;\n  left: 0;\n  top: 0;\n  background-color: var(--slider-track-fill-background);\n}\n.var-slider__thumb {\n  position: absolute;\n}\n.var-slider__thumb-block {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n  background-color: var(--slider-thumb-block-background);\n}\n.var-slider__thumb-ripple {\n  position: absolute;\n  width: 0;\n  z-index: -1;\n  height: 0;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  opacity: 0.3;\n  background: var(--slider-thumb-ripple-background);\n  transition: 0.3s var(--cubic-bezier);\n}\n.var-slider__thumb-ripple-active {\n  width: 36px;\n  height: 36px;\n}\n.var-slider__thumb-label {\n  height: 24px;\n  width: 24px;\n  background-color: var(--slider-thumb-label-background);\n  display: flex;\n  align-items: center;\n  border: none;\n  justify-content: center;\n  color: #fff;\n  border-radius: 50% 50% 0;\n  bottom: 60%;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  position: absolute;\n  left: 45%;\n  transition: 0.3s var(--cubic-bezier);\n  font-size: var(--slider-thumb-label-font-size);\n  overflow: hidden;\n  transform: translateY(0) translateY(0) translateX(-50%) rotate(45deg) scale(0);\n}\n.var-slider__thumb-label span {\n  transform: rotate(-45deg);\n}\n.var-slider__thumb-label-active {\n  transform: translateY(-50%) translateX(-50%) rotate(45deg) scale(1);\n}\n.var-slider__error .var-slider__track-background {\n  background-color: var(--slider-error-color) !important;\n  filter: opacity(0.25);\n}\n.var-slider__error .var-slider__track-fill {\n  background-color: var(--slider-error-color) !important;\n}\n.var-slider__error .var-slider__thumb-block {\n  background-color: var(--slider-error-color) !important;\n}\n.var-slider__error .var-slider__thumb-ripple {\n  background-color: var(--slider-error-color) !important;\n}\n.var-slider__error .var-slider__thumb-label {\n  background-color: var(--slider-error-color) !important;\n}\n.var-slider__form[var-slider-cover] {\n  margin: 0;\n}\n",""]);const a=t}}]);