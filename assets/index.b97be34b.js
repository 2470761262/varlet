var H=Object.defineProperty,L=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var A=(e,n,l)=>n in e?H(e,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[n]=l,_=(e,n)=>{for(var l in n||(n={}))W.call(n,l)&&A(e,l,n[l]);if(T)for(var l of T(n))G.call(n,l)&&A(e,l,n[l]);return e},E=(e,n)=>L(e,q(n));import{p as J,P as O}from"./index.1e484a48.js";import{B as w}from"./index.d02dece8.js";import{p as K,m as Q}from"./components.092cc01a.js";import{e as X,f as Y,c as Z}from"./shared.5973ad73.js";import{p as x,u as $,a as F,_ as ee,b as oe,c as ne,w as ae}from"./en-US.f8ac739f.js";import{_ as j}from"./IconSfc.29808136.js";import{q as le,r as N,y as P,d as v,o as b,k as U,w as s,a as S,O as D,n as te,l as c,t as i,f as I,P as se,p as z,z as re,a2 as ce,c as ie,h as u,F as ue}from"./vendor.cfbfc887.js";import{I as V}from"./index.a43e0611.js";import{S as h}from"./index.56a55274.js";import{C as R}from"./index.f6a80b23.js";import{A as me}from"./AppType.c025e0b4.js";import"./lock.301c02b4.js";import"./index.20a388b7.js";import"./zIndex.a6f89f9c.js";import"./index.5c577cbc.js";import"./elements.0f1b5e0a.js";function de(e){return["left","center","right"].includes(e)}const fe=_({show:{type:Boolean,default:!1},title:{type:String},message:{type:String},messageAlign:{type:String,default:"left",validator:de},confirmButton:{type:Boolean,default:!0},cancelButton:{type:Boolean,default:!0},confirmButtonText:{type:String},cancelButtonText:{type:String},confirmButtonTextColor:{type:String},cancelButtonTextColor:{type:String},confirmButtonColor:{type:String},cancelButtonColor:{type:String},onBeforeClose:{type:Function},onConfirm:{type:Function},onCancel:{type:Function},"onUpdate:show":{type:Function}},K(J,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"]));const Ce=le({name:"VarDialog",components:{[O.name]:O,[w.name]:w},inheritAttrs:!1,props:fe,setup(e){const n=N(!1),l=N(!1),o=()=>{var a;return(a=e["onUpdate:show"])==null?void 0:a.call(e,!1)},C=()=>{var B;const{closeOnClickOverlay:a,onClickOverlay:r,onBeforeClose:m}=e;if(r==null||r(),!!a){if(m!=null){m("close",o);return}(B=e["onUpdate:show"])==null||B.call(e,!1)}},t=()=>{var m;const{onBeforeClose:a,onConfirm:r}=e;if(r==null||r(),a!=null){a("confirm",o);return}(m=e["onUpdate:show"])==null||m.call(e,!1)},f=()=>{var m;const{onBeforeClose:a,onCancel:r}=e;if(r==null||r(),a!=null){a("cancel",o);return}(m=e["onUpdate:show"])==null||m.call(e,!1)};return P(()=>e.show,a=>{n.value=a},{immediate:!0}),P(()=>e.closeOnClickOverlay,a=>{if(e.onBeforeClose!=null){l.value=!1;return}l.value=a},{immediate:!0}),{pack:x,dt:X,popupShow:n,popupCloseOnClickOverlay:l,handleClickOverlay:C,confirm:t,cancel:f}}}),pe={class:"var-dialog__title"},ye={class:"var-dialog__actions"};function ge(e,n,l,o,C,t){const f=v("var-button"),a=v("var-popup");return b(),U(a,{class:"var-dialog__popup-radius","var-dialog-cover":"",show:e.popupShow,overlay:e.overlay,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,"lock-scroll":e.lockScroll,"close-on-click-overlay":e.popupCloseOnClickOverlay,teleport:e.teleport,onOpen:e.onOpen,onClose:e.onClose,onClosed:e.onClosed,onOpened:e.onOpened,onRouteChange:e.onRouteChange,onClickOverlay:e.handleClickOverlay},{default:s(()=>[S("div",se({class:"var--box var-dialog"},e.$attrs),[S("div",pe,[D(e.$slots,"title",{},()=>[c(i(e.dt(e.title,e.pack.dialogTitle)),1)])]),S("div",{class:"var-dialog__message",style:te({textAlign:e.messageAlign})},[D(e.$slots,"default",{},()=>[c(i(e.message),1)])],4),S("div",ye,[e.cancelButton?(b(),U(f,{key:0,class:"var-dialog__button var-dialog__cancel-button","var-dialog-cover":"",text:"","text-color":e.cancelButtonTextColor,color:e.cancelButtonColor,onClick:e.cancel},{default:s(()=>[c(i(e.dt(e.cancelButtonText,e.pack.dialogCancelButtonText)),1)]),_:1},8,["text-color","color","onClick"])):I("v-if",!0),e.confirmButton?(b(),U(f,{key:1,class:"var-dialog__button var-dialog__confirm-button","var-dialog-cover":"",text:"","text-color":e.confirmButtonTextColor,color:e.confirmButtonColor,onClick:e.confirm},{default:s(()=>[c(i(e.dt(e.confirmButtonText,e.pack.dialogConfirmButtonText)),1)]),_:1},8,["text-color","color","onClick"])):I("v-if",!0)])],16)]),_:3},8,["show","overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","onOpen","onClose","onClosed","onOpened","onRouteChange","onClickOverlay"])}var k=j(Ce,[["render",ge]]);let y;function d(e){return Y?new Promise(n=>{d.close();const l=Z(e)?{message:e}:e,o=z(l);o.teleport="body",y=o;const{unmountInstance:C}=Q(k,o,{onConfirm:()=>{var t;(t=o.onConfirm)==null||t.call(o),n("confirm")},onCancel:()=>{var t;(t=o.onCancel)==null||t.call(o),n("cancel")},onClose:()=>{var t;(t=o.onClose)==null||t.call(o),n("close")},onClosed:()=>{var t;(t=o.onClosed)==null||t.call(o),C(),y===o&&(y=null)},onRouteChange:()=>{C(),y===o&&(y=null)},"onUpdate:show":t=>{o.show=t}});o.show=!0}):Promise.resolve()}k.install=function(e){e.component(k.name,k)};d.install=function(e){e.component(k.name,k)};d.close=()=>{if(y!=null){const e=y;y=null,re().then(()=>{e.show=!1})}};d.Component=k;var ve={functionCall:"\u51FD\u6570\u8C03\u7528",basicUsage:"\u57FA\u672C\u4F7F\u7528",modifyTitle:"\u4FEE\u6539\u6807\u9898",hideButton:"\u9690\u85CF\u6309\u94AE",handleUserBehavior:"\u5904\u7406\u7528\u6237\u884C\u4E3A",asyncClose:"\u5F02\u6B65\u5173\u95ED",componentCall:"\u7EC4\u4EF6\u8C03\u7528",title:"\u5170\u4EAD\u5E8F",message:"\u5170\u4EAD\u4E34\u5E16 \u884C\u4E66\u5982\u884C\u4E91\u6D41\u6C34",customSlots:"\u81EA\u5B9A\u4E49\u63D2\u69FD",asyncCloseProgress:"\u6B63\u5728\u5F02\u6B65\u5173\u95ED"},ke={functionCall:"Function Call",basicUsage:"Basic Usage",modifyTitle:"Modify Title",hideButton:"Hide Button",handleUserBehavior:"Handle User Behavior",asyncClose:"Asynchronous closing",componentCall:"Component Call",title:"Beat It",message:"Don't Wanna See No Blood, Don't Be A Macho Man",customSlots:"Custom Slots",asyncCloseProgress:"Asynchronous shutdown in progress"};const{add:M,use:Be,pack:g,packs:He,merge:Le}=$(),he=e=>{ne(e),Be(e)};F("zh-CN",ee);F("en-US",oe);M("zh-CN",ve);M("en-US",ke);const we={name:"DialogExample",components:{[d.Component.name]:d.Component,[w.name]:w,[V.name]:V,[R.name]:R,AppType:me},setup(){const e=z({show:!1,show1:!1,show2:!1,value:""}),n={confirm:()=>h.success("confirm"),cancel:()=>h.error("cancel"),close:()=>h.info("close")},l=()=>d({message:g.value.message}),o=async()=>n[await d(g.value.message)](),C=()=>{d({title:g.value.title,message:g.value.message})},t=()=>{d({message:g.value.message,confirmButton:!1,cancelButton:!1})},f=(r,m)=>{h.loading(g.value.asyncCloseProgress),setTimeout(()=>{n[r](),m()},1e3)},a=()=>{d({message:g.value.message,onBeforeClose:f})};return ae(he),E(_({pack:g},ce(e)),{asyncClose:a,createBasic:l,createAction:o,modifyTitle:C,hideButton:t,onBeforeClose:f,Snackbar:h})}};function be(e,n,l,o,C,t){const f=v("app-type"),a=v("var-button"),r=v("var-dialog"),m=v("var-icon"),B=v("var-cell");return b(),ie(ue,null,[u(f,null,{default:s(()=>[c(i(o.pack.functionCall),1)]),_:1}),u(a,{type:"primary",block:"",onClick:o.createBasic},{default:s(()=>[c(i(o.pack.basicUsage),1)]),_:1},8,["onClick"]),u(a,{type:"primary",block:"",onClick:o.modifyTitle},{default:s(()=>[c(i(o.pack.modifyTitle),1)]),_:1},8,["onClick"]),u(a,{type:"primary",block:"",onClick:o.hideButton},{default:s(()=>[c(i(o.pack.hideButton),1)]),_:1},8,["onClick"]),u(a,{type:"primary",block:"",onClick:o.createAction},{default:s(()=>[c(i(o.pack.handleUserBehavior),1)]),_:1},8,["onClick"]),u(a,{type:"primary",block:"",onClick:o.asyncClose},{default:s(()=>[c(i(o.pack.asyncClose),1)]),_:1},8,["onClick"]),u(f,null,{default:s(()=>[c(i(o.pack.componentCall),1)]),_:1}),u(a,{type:"warning",block:"",onClick:n[0]||(n[0]=p=>e.show=!0)},{default:s(()=>[c(i(o.pack.basicUsage),1)]),_:1}),u(r,{show:e.show,"onUpdate:show":n[1]||(n[1]=p=>e.show=p),title:o.pack.title,message:o.pack.message,onConfirm:n[2]||(n[2]=()=>o.Snackbar.success("confirm")),onCancel:n[3]||(n[3]=()=>o.Snackbar.error("cancel")),onClosed:n[4]||(n[4]=()=>o.Snackbar.info("closed"))},null,8,["show","title","message"]),u(a,{type:"warning",block:"",onClick:n[5]||(n[5]=p=>e.show1=!0)},{default:s(()=>[c(i(o.pack.asyncClose),1)]),_:1}),u(r,{show:e.show1,"onUpdate:show":n[6]||(n[6]=p=>e.show1=p),title:o.pack.title,message:o.pack.message,onBeforeClose:o.onBeforeClose},null,8,["show","title","message","onBeforeClose"]),u(a,{type:"warning",block:"",onClick:n[7]||(n[7]=p=>e.show2=!0)},{default:s(()=>[c(i(o.pack.customSlots),1)]),_:1}),u(r,{show:e.show2,"onUpdate:show":n[8]||(n[8]=p=>e.show2=p)},{title:s(()=>[u(m,{name:"information",color:"#2979ff"})]),default:s(()=>[u(B,null,{default:s(()=>[c(i(o.pack.message),1)]),_:1}),u(B,null,{default:s(()=>[c(i(o.pack.message),1)]),_:1}),u(B,null,{default:s(()=>[c(i(o.pack.message),1)]),_:1})]),_:1},8,["show"])],64)}var qe=j(we,[["render",be],["__scopeId","data-v-349ab3d8"]]);export{qe as default};
