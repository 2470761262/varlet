var k=Object.defineProperty;var d=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var u=(e,o,t)=>o in e?k(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,p=(e,o)=>{for(var t in o||(o={}))w.call(o,t)&&u(e,t,o[t]);if(d)for(var t of d(o))C.call(o,t)&&u(e,t,o[t]);return e};import{q as S,y as z,o as r,k as I,h as c,w as f,i as b,v as P,a as g,c as y,m as B,n as v,f as m,T as h,O,P as $,Q as F}from"./vendor.bac705d4.js";import{u as j}from"./lock.cdd0a0f9.js";import{u as A}from"./zIndex.148a12e4.js";import{c as V,d as L}from"./components.7d95671e.js";import{_ as T}from"./IconSfc.eb1d27d6.js";function E(e){return["top","bottom","right","left","center"].includes(e)}const N={show:{type:Boolean,default:!1},position:{type:String,default:"center",validator:E},transition:{type:String},overlay:{type:Boolean,default:!0},overlayClass:{type:String},overlayStyle:{type:Object},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},teleport:{},onOpen:{type:Function},onOpened:{type:Function},onClose:{type:Function},onClosed:{type:Function},onClickOverlay:{type:Function},onRouteChange:{type:Function},"onUpdate:show":{type:Function}};const R=S({name:"VarPopup",inheritAttrs:!1,props:N,setup(e){const{zIndex:o}=A(()=>e.show,3),{disabled:t}=V(),i=()=>{var a;const{closeOnClickOverlay:s,onClickOverlay:n}=e;n==null||n(),!!s&&((a=e["onUpdate:show"])==null||a.call(e,!1))};return j(e,"show","lockScroll"),z(()=>e.show,s=>{const{onOpen:n,onClose:a}=e;s?n==null||n():a==null||a()}),L(()=>{var s;return(s=e.onRouteChange)==null?void 0:s.call(e)}),{zIndex:o,disabled:t,hidePopup:i}}});function U(e,o,t,i,s,n){return r(),I(F,{to:e.teleport,disabled:!e.teleport||e.disabled},[c(h,{name:"var-fade",onAfterEnter:e.onOpened,onAfterLeave:e.onClosed},{default:f(()=>[b(g("div",{class:"var--box var-popup",style:v({zIndex:e.zIndex-2})},[e.overlay?(r(),y("div",{key:0,class:B(["var-popup__overlay",[e.overlayClass]]),style:v(p({zIndex:e.zIndex-1},e.overlayStyle)),onClick:o[0]||(o[0]=(...a)=>e.hidePopup&&e.hidePopup(...a))},null,6)):m("v-if",!0),c(h,{name:e.transition?e.transition:`var-pop-${e.position}`},{default:f(()=>[e.show?(r(),y("div",$({key:0,class:["var-popup__content var-elevation--3",[`var-popup--${e.position}`]],style:{zIndex:e.zIndex}},e.$attrs),[O(e.$slots,"default")],16)):m("v-if",!0)]),_:3},8,["name"])],4),[[P,e.show]])]),_:3},8,["onAfterEnter","onAfterLeave"])],8,["to","disabled"])}var l=T(R,[["render",U]]);l.install=function(e){e.component(l.name,l)};export{l as P,N as p};
