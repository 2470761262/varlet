import{A as a}from"./AppType.cf12e473.js";import{e,r as t}from"./elements.f945da86.js";import{t as s,p as o}from"./shared.6d6b25a1.js";import{_ as n,w as l}from"./IconSfc.addeaf96.js";import{q as r,r as u,y as m,o as c,c as d,O as i,W as p,X as f,l as v,t as h,d as S,a as b,h as k,w,F as x,S as y,U as C}from"./vendor.bac705d4.js";import{S as j}from"./index.1d93d7b8.js";import{B as g}from"./index.8e2826b3.js";import{u as T,a as _,_ as M,b as D,c as H}from"./en-US.41252e02.js";import"./index.8654e037.js";import"./index.6d61c9e3.js";import"./zIndex.779be491.js";import"./index.623f4af7.js";import"./components.fc1d8498.js";import"./lock.f9d85b9f.js";const U={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:{type:Function},onChange:{type:Function}};const F=r({name:"VarCountdown",props:U,setup(a){const n=u(0),l=u(!1),r=u(""),c=u(0),d=u(0),i=u({}),p=()=>{const{time:e,onEnd:u,autoStart:m}=a,f=Date.now();n.value||(n.value=f+s(e));let v=n.value-f;v<0&&(v=0),d.value=v,(e=>{var t;const s={days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3),milliseconds:Math.floor(e%1e3)};i.value=s,null==(t=a.onChange)||t.call(a,i.value),r.value=o(a.format,s)})(v),0!==v?(m||l.value)&&(c.value=t(p)):null==u||u()},f=()=>{n.value=0,l.value=!1,e(c.value),p()};return m((()=>a.time),(()=>f()),{immediate:!0}),{showTime:r,timeData:i,start:()=>{l.value||(l.value=!0,n.value=Date.now()+(d.value||s(a.time)),p())},pause:()=>{l.value=!1},reset:f}}}),E={class:"var-countdown"};var $=n(F,[["render",function(a,e,t,s,o,n){return c(),d("div",E,[i(a.$slots,"default",p(f(a.timeData)),(()=>[v(h(a.showTime),1)]))])}]]);$.install=function(a){a.component($.name,$)};const{add:z,use:A,pack:B,packs:I,merge:N}=T(),q=a=>{H(a),A(a)};_("zh-CN",M),_("en-US",D),z("zh-CN",{basicUsage:"基本使用",customFormat:"自定义格式",showMillisecond:"显示毫秒",customStyle:"自定义样式",manualControl:"手动控制",format:"DD 天 HH 时 mm 分 ss 秒",startText:"开始",pauseText:"暂停",resetText:"重置"}),z("en-US",{basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"});const O={name:"CountdownExample",components:{[$.name]:$,[g.name]:g,AppType:a},setup(){const a=u(null),e=u(3e3);return l(q),{time:e,pack:B,end:()=>{j.info("end!")},countdown:a,change:()=>{}}}},P=a=>(y("data-v-37d61b5b"),a=a(),C(),a),R={class:"block"},V=P((()=>b("span",{class:"colon"},":",-1))),W={class:"block"},X=P((()=>b("span",{class:"colon"},":",-1))),G={class:"block"},J={class:"btn-container"};var K=n(O,[["render",function(a,e,t,s,o,n){const l=S("app-type"),r=S("var-countdown"),u=S("var-button");return c(),d(x,null,[b("div",null,[k(l,null,{default:w((()=>[v(h(s.pack.basicUsage),1)])),_:1}),k(r,{time:"108000000"})]),b("div",null,[k(l,null,{default:w((()=>[v(h(s.pack.customFormat),1)])),_:1}),k(r,{time:"108000000",format:s.pack.format},null,8,["format"])]),b("div",null,[k(l,null,{default:w((()=>[v(h(s.pack.showMillisecond),1)])),_:1}),k(r,{time:"108000000",format:"HH : mm : ss : SS"})]),b("div",null,[k(l,null,{default:w((()=>[v(h(s.pack.customStyle),1)])),_:1}),k(r,{time:"108000000"},{default:w((a=>[b("span",R,h(a.hours),1),V,b("span",W,h(a.minutes),1),X,b("span",G,h(a.seconds),1)])),_:1})]),b("div",null,[k(l,null,{default:w((()=>[v(h(s.pack.manualControl),1)])),_:1}),k(r,{time:s.time,ref:"countdown","auto-start":!1,format:"ss : SSS",onEnd:s.end,onChange:s.change},null,8,["time","onEnd","onChange"]),b("div",J,[k(u,{type:"primary",onClick:e[0]||(e[0]=e=>a.$refs.countdown.start())},{default:w((()=>[v(h(s.pack.startText),1)])),_:1}),k(u,{onClick:e[1]||(e[1]=e=>a.$refs.countdown.pause())},{default:w((()=>[v(h(s.pack.pauseText),1)])),_:1}),k(u,{onClick:e[2]||(e[2]=e=>a.$refs.countdown.reset())},{default:w((()=>[v(h(s.pack.resetText),1)])),_:1})])])],64)}],["__scopeId","data-v-37d61b5b"]]);export{K as default};
