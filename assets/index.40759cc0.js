import{A as O}from"./AppType.058b8a71.js";import{_ as j,j as B,O as V,N as P,Q as R}from"./elevation.6b325341.js";import{q,r as m,y as L,o as D,c as E,O as Q,W,X,l,t as n,d as b,a as s,h as o,w as r,F as Y,S as G,U as J}from"./vendor.cfbfc887.js";import{S as K}from"./index.3f89c810.js";import{B as N}from"./index.c01af851.js";import{u as Z,a as U,_ as tt,b as et,c as at,w as ot}from"./en-US.fed517a7.js";import"./index.fba1babd.js";import"./index.670ac4ea.js";import"./zIndex.a6f89f9c.js";import"./index.20a388b7.js";import"./components.fe85d05d.js";import"./lock.301c02b4.js";const nt={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:{type:Function},onChange:{type:Function}};const k=1e3,x=60*k,F=60*x,M=24*F,st=q({name:"VarCountdown",props:nt,setup(t){const a=m(0),u=m(!1),e=m(""),C=m(0),S=m(0),c=m({}),d=p=>{var A;const v=Math.floor(p/M),y=Math.floor(p%M/F),w=Math.floor(p%F/x),_=Math.floor(p%x/k),I=Math.floor(p%k),T={days:v,hours:y,minutes:w,seconds:_,milliseconds:I};c.value=T,(A=t.onChange)==null||A.call(t,c.value),e.value=R(t.format,T)},f=()=>{const{time:p,onEnd:v,autoStart:y}=t,w=Date.now();a.value||(a.value=w+B(p));let _=a.value-w;if(_<0&&(_=0),S.value=_,d(_),_===0){v==null||v();return}(y||u.value)&&(C.value=P(f))},i=()=>{u.value||(u.value=!0,a.value=Date.now()+(S.value||B(t.time)),f())},z=()=>{u.value=!1},g=()=>{a.value=0,u.value=!1,V(C.value),f()};return L(()=>t.time,()=>g(),{immediate:!0}),{showTime:e,timeData:c,start:i,pause:z,reset:g}}}),ut={class:"var-countdown"};function ct(t,a,u,e,C,S){return D(),E("div",ut,[Q(t.$slots,"default",W(X(t.timeData)),()=>[l(n(t.showTime),1)])])}var h=j(st,[["render",ct]]);h.install=function(t){t.component(h.name,h)};var lt={basicUsage:"\u57FA\u672C\u4F7F\u7528",customFormat:"\u81EA\u5B9A\u4E49\u683C\u5F0F",showMillisecond:"\u663E\u793A\u6BEB\u79D2",customStyle:"\u81EA\u5B9A\u4E49\u6837\u5F0F",manualControl:"\u624B\u52A8\u63A7\u5236",format:"DD \u5929 HH \u65F6 mm \u5206 ss \u79D2",startText:"\u5F00\u59CB",pauseText:"\u6682\u505C",resetText:"\u91CD\u7F6E"},rt={basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"};const{add:H,use:it,pack:mt,packs:Nt,merge:Ut}=Z(),dt=t=>{at(t),it(t)};U("zh-CN",tt);U("en-US",et);H("zh-CN",lt);H("en-US",rt);const ft={name:"CountdownExample",components:{[h.name]:h,[N.name]:N,AppType:O},setup(){const t=m(null),a=m(3e3),u=()=>{K.info("end!")},e=()=>{};return ot(dt),{time:a,pack:mt,end:u,countdown:t,change:e}}},$=t=>(G("data-v-caa2d80e"),t=t(),J(),t),pt={class:"block"},_t=$(()=>s("span",{class:"colon"},":",-1)),vt={class:"block"},ht=$(()=>s("span",{class:"colon"},":",-1)),Ct={class:"block"},St={class:"btn-container"};function wt(t,a,u,e,C,S){const c=b("app-type"),d=b("var-countdown"),f=b("var-button");return D(),E(Y,null,[s("div",null,[o(c,null,{default:r(()=>[l(n(e.pack.basicUsage),1)]),_:1}),o(d,{time:"108000000"})]),s("div",null,[o(c,null,{default:r(()=>[l(n(e.pack.customFormat),1)]),_:1}),o(d,{time:"108000000",format:e.pack.format},null,8,["format"])]),s("div",null,[o(c,null,{default:r(()=>[l(n(e.pack.showMillisecond),1)]),_:1}),o(d,{time:"108000000",format:"HH : mm : ss : SS"})]),s("div",null,[o(c,null,{default:r(()=>[l(n(e.pack.customStyle),1)]),_:1}),o(d,{time:"108000000"},{default:r(i=>[s("span",pt,n(i.hours),1),_t,s("span",vt,n(i.minutes),1),ht,s("span",Ct,n(i.seconds),1)]),_:1})]),s("div",null,[o(c,null,{default:r(()=>[l(n(e.pack.manualControl),1)]),_:1}),o(d,{time:e.time,ref:"countdown","auto-start":!1,format:"ss : SSS",onEnd:e.end,onChange:e.change},null,8,["time","onEnd","onChange"]),s("div",St,[o(f,{type:"primary",onClick:a[0]||(a[0]=i=>t.$refs.countdown.start())},{default:r(()=>[l(n(e.pack.startText),1)]),_:1}),o(f,{onClick:a[1]||(a[1]=i=>t.$refs.countdown.pause())},{default:r(()=>[l(n(e.pack.pauseText),1)]),_:1}),o(f,{onClick:a[2]||(a[2]=i=>t.$refs.countdown.reset())},{default:r(()=>[l(n(e.pack.resetText),1)]),_:1})])])],64)}var Mt=j(ft,[["render",wt],["__scopeId","data-v-caa2d80e"]]);export{Mt as default};
