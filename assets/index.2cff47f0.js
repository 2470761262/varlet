var o=Object.defineProperty,e=Object.defineProperties,l=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,s=(e,l,n)=>l in e?o(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n,c=(o,e)=>{for(var l in e||(e={}))a.call(e,l)&&s(o,l,e[l]);if(n)for(var l of n(e))t.call(e,l)&&s(o,l,e[l]);return o};import{p as r,P as i}from"./index.e42de5fc.js";import{B as p}from"./index.9a216741.js";import{p as u,m as d}from"./components.fc1d8498.js";import{d as m,i as f,e as C}from"./shared.6d6b25a1.js";import{p as y,u as v,a as g,_ as k,b as h,c as B,d as w}from"./utils.a0011fda.js";import{_ as b}from"./IconSfc.d1e88af2.js";import{q as _,r as O,y as S,d as x,o as j,k as T,w as U,a as A,O as P,n as I,l as F,t as D,f as R,P as z,p as M,z as N,a2 as $,c as E,h as H,F as q}from"./vendor.bac705d4.js";import{I as V}from"./index.deaa662f.js";import{S as W}from"./index.16611b15.js";import{C as G}from"./index.ebdee638.js";import{A as J}from"./AppType.d0f8da8a.js";import"./lock.f9d85b9f.js";import"./index.623f4af7.js";import"./zIndex.779be491.js";import"./index.6e8a3cbb.js";import"./elements.f945da86.js";const K=c({show:{type:Boolean,default:!1},title:{type:String},message:{type:String},messageAlign:{type:String,default:"left",validator:function(o){return["left","center","right"].includes(o)}},confirmButton:{type:Boolean,default:!0},cancelButton:{type:Boolean,default:!0},confirmButtonText:{type:String},cancelButtonText:{type:String},confirmButtonTextColor:{type:String},cancelButtonTextColor:{type:String},confirmButtonColor:{type:String},cancelButtonColor:{type:String},onBeforeClose:{type:Function},onConfirm:{type:Function},onCancel:{type:Function},"onUpdate:show":{type:Function}},u(r,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"]));const L=_({name:"VarDialog",components:{[i.name]:i,[p.name]:p},inheritAttrs:!1,props:K,setup(o){const e=O(!1),l=O(!1),n=()=>{var e;return null==(e=o["onUpdate:show"])?void 0:e.call(o,!1)};return S((()=>o.show),(o=>{e.value=o}),{immediate:!0}),S((()=>o.closeOnClickOverlay),(e=>{null==o.onBeforeClose?l.value=e:l.value=!1}),{immediate:!0}),{pack:y,dt:m,popupShow:e,popupCloseOnClickOverlay:l,handleClickOverlay:()=>{var e;const{closeOnClickOverlay:l,onClickOverlay:a,onBeforeClose:t}=o;null==a||a(),l&&(null==t?null==(e=o["onUpdate:show"])||e.call(o,!1):t("close",n))},confirm:()=>{var e;const{onBeforeClose:l,onConfirm:a}=o;null==a||a(),null==l?null==(e=o["onUpdate:show"])||e.call(o,!1):l("confirm",n)},cancel:()=>{var e;const{onBeforeClose:l,onCancel:a}=o;null==a||a(),null==l?null==(e=o["onUpdate:show"])||e.call(o,!1):l("cancel",n)}}}}),Q={class:"var-dialog__title"},X={class:"var-dialog__actions"};var Y=b(L,[["render",function(o,e,l,n,a,t){const s=x("var-button"),c=x("var-popup");return j(),T(c,{class:"var-dialog__popup-radius","var-dialog-cover":"",show:o.popupShow,overlay:o.overlay,"overlay-class":o.overlayClass,"overlay-style":o.overlayStyle,"lock-scroll":o.lockScroll,"close-on-click-overlay":o.popupCloseOnClickOverlay,teleport:o.teleport,onOpen:o.onOpen,onClose:o.onClose,onClosed:o.onClosed,onOpened:o.onOpened,onRouteChange:o.onRouteChange,onClickOverlay:o.handleClickOverlay},{default:U((()=>[A("div",z({class:"var--box var-dialog"},o.$attrs),[A("div",Q,[P(o.$slots,"title",{},(()=>[F(D(o.dt(o.title,o.pack.dialogTitle)),1)]))]),A("div",{class:"var-dialog__message",style:I({textAlign:o.messageAlign})},[P(o.$slots,"default",{},(()=>[F(D(o.message),1)]))],4),A("div",X,[o.cancelButton?(j(),T(s,{key:0,class:"var-dialog__button var-dialog__cancel-button","var-dialog-cover":"",text:"","text-color":o.cancelButtonTextColor,color:o.cancelButtonColor,onClick:o.cancel},{default:U((()=>[F(D(o.dt(o.cancelButtonText,o.pack.dialogCancelButtonText)),1)])),_:1},8,["text-color","color","onClick"])):R("v-if",!0),o.confirmButton?(j(),T(s,{key:1,class:"var-dialog__button var-dialog__confirm-button","var-dialog-cover":"",text:"","text-color":o.confirmButtonTextColor,color:o.confirmButtonColor,onClick:o.confirm},{default:U((()=>[F(D(o.dt(o.confirmButtonText,o.pack.dialogConfirmButtonText)),1)])),_:1},8,["text-color","color","onClick"])):R("v-if",!0)])],16)])),_:3},8,["show","overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","onOpen","onClose","onClosed","onOpened","onRouteChange","onClickOverlay"])}]]);let Z;function oo(o){return f?new Promise((e=>{oo.close();const l=C(o)?{message:o}:o,n=M(l);n.teleport="body",Z=n;const{unmountInstance:a}=d(Y,n,{onConfirm:()=>{var o;null==(o=n.onConfirm)||o.call(n),e("confirm")},onCancel:()=>{var o;null==(o=n.onCancel)||o.call(n),e("cancel")},onClose:()=>{var o;null==(o=n.onClose)||o.call(n),e("close")},onClosed:()=>{var o;null==(o=n.onClosed)||o.call(n),a(),Z===n&&(Z=null)},onRouteChange:()=>{a(),Z===n&&(Z=null)},"onUpdate:show":o=>{n.show=o}});n.show=!0})):Promise.resolve()}Y.install=function(o){o.component(Y.name,Y)},oo.install=function(o){o.component(Y.name,Y)},oo.close=()=>{if(null!=Z){const o=Z;Z=null,N().then((()=>{o.show=!1}))}},oo.Component=Y;const{add:eo,use:lo,pack:no,packs:ao,merge:to}=v(),so=o=>{B(o),lo(o)};g("zh-CN",k),g("en-US",h),eo("zh-CN",{functionCall:"函数调用",basicUsage:"基本使用",modifyTitle:"修改标题",hideButton:"隐藏按钮",handleUserBehavior:"处理用户行为",asyncClose:"异步关闭",componentCall:"组件调用",title:"兰亭序",message:"兰亭临帖 行书如行云流水",customSlots:"自定义插槽",asyncCloseProgress:"正在异步关闭"}),eo("en-US",{functionCall:"Function Call",basicUsage:"Basic Usage",modifyTitle:"Modify Title",hideButton:"Hide Button",handleUserBehavior:"Handle User Behavior",asyncClose:"Asynchronous closing",componentCall:"Component Call",title:"Beat It",message:"Don't Wanna See No Blood, Don't Be A Macho Man",customSlots:"Custom Slots",asyncCloseProgress:"Asynchronous shutdown in progress"});var co=b({name:"DialogExample",components:{[oo.Component.name]:oo.Component,[p.name]:p,[V.name]:V,[G.name]:G,AppType:J},setup(){const o=M({show:!1,show1:!1,show2:!1,value:""}),n={confirm:()=>W.success("confirm"),cancel:()=>W.error("cancel"),close:()=>W.info("close")},a=(o,e)=>{W.loading(no.value.asyncCloseProgress),setTimeout((()=>{n[o](),e()}),1e3)};return w(so),t=c({pack:no},$(o)),e(t,l({asyncClose:()=>{oo({message:no.value.message,onBeforeClose:a})},createBasic:()=>oo({message:no.value.message}),createAction:async()=>n[await oo(no.value.message)](),modifyTitle:()=>{oo({title:no.value.title,message:no.value.message})},hideButton:()=>{oo({message:no.value.message,confirmButton:!1,cancelButton:!1})},onBeforeClose:a,Snackbar:W}));var t}},[["render",function(o,e,l,n,a,t){const s=x("app-type"),c=x("var-button"),r=x("var-dialog"),i=x("var-icon"),p=x("var-cell");return j(),E(q,null,[H(s,null,{default:U((()=>[F(D(n.pack.functionCall),1)])),_:1}),H(c,{type:"primary",block:"",onClick:n.createBasic},{default:U((()=>[F(D(n.pack.basicUsage),1)])),_:1},8,["onClick"]),H(c,{type:"primary",block:"",onClick:n.modifyTitle},{default:U((()=>[F(D(n.pack.modifyTitle),1)])),_:1},8,["onClick"]),H(c,{type:"primary",block:"",onClick:n.hideButton},{default:U((()=>[F(D(n.pack.hideButton),1)])),_:1},8,["onClick"]),H(c,{type:"primary",block:"",onClick:n.createAction},{default:U((()=>[F(D(n.pack.handleUserBehavior),1)])),_:1},8,["onClick"]),H(c,{type:"primary",block:"",onClick:n.asyncClose},{default:U((()=>[F(D(n.pack.asyncClose),1)])),_:1},8,["onClick"]),H(s,null,{default:U((()=>[F(D(n.pack.componentCall),1)])),_:1}),H(c,{type:"warning",block:"",onClick:e[0]||(e[0]=e=>o.show=!0)},{default:U((()=>[F(D(n.pack.basicUsage),1)])),_:1}),H(r,{show:o.show,"onUpdate:show":e[1]||(e[1]=e=>o.show=e),title:n.pack.title,message:n.pack.message,onConfirm:e[2]||(e[2]=()=>n.Snackbar.success("confirm")),onCancel:e[3]||(e[3]=()=>n.Snackbar.error("cancel")),onClosed:e[4]||(e[4]=()=>n.Snackbar.info("closed"))},null,8,["show","title","message"]),H(c,{type:"warning",block:"",onClick:e[5]||(e[5]=e=>o.show1=!0)},{default:U((()=>[F(D(n.pack.asyncClose),1)])),_:1}),H(r,{show:o.show1,"onUpdate:show":e[6]||(e[6]=e=>o.show1=e),title:n.pack.title,message:n.pack.message,onBeforeClose:n.onBeforeClose},null,8,["show","title","message","onBeforeClose"]),H(c,{type:"warning",block:"",onClick:e[7]||(e[7]=e=>o.show2=!0)},{default:U((()=>[F(D(n.pack.customSlots),1)])),_:1}),H(r,{show:o.show2,"onUpdate:show":e[8]||(e[8]=e=>o.show2=e)},{title:U((()=>[H(i,{name:"information",color:"#2979ff"})])),default:U((()=>[H(p,null,{default:U((()=>[F(D(n.pack.message),1)])),_:1}),H(p,null,{default:U((()=>[F(D(n.pack.message),1)])),_:1}),H(p,null,{default:U((()=>[F(D(n.pack.message),1)])),_:1})])),_:1},8,["show"])],64)}],["__scopeId","data-v-349ab3d8"]]);export{co as default};
