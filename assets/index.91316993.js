import{F as U,u as G}from"./provide.84cb89b2.js";import{b as q,e as H,u as S,a as J,f as L}from"./components.c996eb06.js";import{_ as E}from"./elevation.703f44d6.js";import{q as p,b as w,y as T,d as z,o as B,c as F,a as C,B as A,m as k,h as D,z as N,r as j,e as Q,i as X,n as Z,A as x}from"./vendor.ea41cd30.js";import{I as ee}from"./index.94e058ff.js";import{R as ae}from"./index.931337ba.js";function oe(e){return["horizontal","vertical"].includes(e)}const re={modelValue:{default:void 0},direction:{type:String,default:"horizontal",validator:oe},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},K=Symbol("RADIO_GROUP_BIND_RADIO_KEY"),W=Symbol("RADIO_GROUP_COUNT_RADIO_KEY");function ne(){const{bindChildren:e,childProviders:o}=q(K),{length:t}=H(W);return{length:t,radios:o,bindRadios:e}}const ie=p({name:"VarRadioGroup",components:{VarFormDetails:U},props:re,setup(e){const{length:o,radios:t,bindRadios:h}=ne(),{bindForm:n}=G(),{errorMessage:d,validateWithTrigger:a,validate:c,resetValidation:u}=S(),y=w(()=>d.value),$=i=>{N(()=>{const{validateTrigger:v,rules:f,modelValue:b}=e;a(v,i,f,b)})},g=()=>t.forEach(({sync:i})=>i(e.modelValue)),I=i=>{var v,f;(v=e["onUpdate:modelValue"])==null||v.call(e,i),(f=e.onChange)==null||f.call(e,i),$("onChange")},_=()=>c(e.rules,e.modelValue),V=()=>{var i;(i=e["onUpdate:modelValue"])==null||i.call(e,void 0),u()};T(()=>e.modelValue,g),T(()=>o.value,g);const R={onToggle:I,validate:_,reset:V,resetValidation:u,errorMessage:y};return n==null||n(R),h(R),{errorMessage:d,reset:V,validate:_,resetValidation:u}}}),le={class:"var-radio-group__wrap"};function se(e,o,t,h,n,d){const a=z("var-form-details");return B(),F("div",le,[C("div",{class:k(["var-radio-group",[`var-radio-group--${e.direction}`]])},[A(e.$slots,"default")],2),D(a,{"error-message":e.errorMessage},null,8,["error-message"])])}var M=E(ie,[["render",se]]);M.install=function(e){e.component(M.name,M)};const te={modelValue:{default:!1},checkedValue:{default:!0},uncheckedValue:{default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},checkedColor:{type:String},uncheckedColor:{type:String},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onClick:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}};function de(){const{bindParent:e,parentProvider:o}=J(K),{index:t}=L(W);return{index:t,radioGroup:o,bindRadioGroup:e}}const ce=p({name:"VarRadio",directives:{Ripple:ae},components:{VarIcon:ee,VarFormDetails:U},inheritAttrs:!1,props:te,setup(e){const o=j(!1),t=w(()=>o.value===e.checkedValue),h=j(!1),{radioGroup:n,bindRadioGroup:d}=de(),{form:a,bindForm:c}=G(),{errorMessage:u,validateWithTrigger:y,validate:$,resetValidation:g}=S(),I=r=>{N(()=>{const{validateTrigger:l,rules:s,modelValue:m}=e;y(l,r,s,m)})},_=r=>{var m;const{checkedValue:l,onChange:s}=e;n&&o.value===l||(o.value=r,(m=e["onUpdate:modelValue"])==null||m.call(e,o.value),s==null||s(o.value),n==null||n.onToggle(l),I("onChange"))},V=r=>{const{disabled:l,readonly:s,uncheckedValue:m,checkedValue:Y,onClick:O}=e;(a==null?void 0:a.disabled.value)||l||(O==null||O(r),!((a==null?void 0:a.readonly.value)||s)&&(h.value=!0,_(t.value?m:Y)))},R=r=>{const{checkedValue:l,uncheckedValue:s}=e;o.value=r===l?l:s},i=()=>{var r;(r=e["onUpdate:modelValue"])==null||r.call(e,e.uncheckedValue),g()},v=()=>$(e.rules,e.modelValue),f=r=>{const{uncheckedValue:l,checkedValue:s}=e;![l,s].includes(r)&&(r=t.value?l:s),_(r)};T(()=>e.modelValue,r=>{o.value=r},{immediate:!0});const b={sync:R,validate:v,resetValidation:g,reset:i};return d==null||d(b),c==null||c(b),{withAnimation:h,checked:t,errorMessage:u,radioGroupErrorMessage:n==null?void 0:n.errorMessage,formDisabled:a==null?void 0:a.disabled,formReadonly:a==null?void 0:a.readonly,handleClick:V,toggle:f,reset:i,validate:v,resetValidation:g}}}),ue={class:"var-radio__wrap"};function ve(e,o,t,h,n,d){const a=z("var-icon"),c=z("var-form-details"),u=Q("ripple");return B(),F("div",ue,[C("div",x({class:"var-radio",onClick:o[0]||(o[0]=(...y)=>e.handleClick&&e.handleClick(...y))},e.$attrs),[X(C("div",{class:k(["var-radio__action",[e.checked?"var-radio--checked":"var-radio--unchecked",e.errorMessage||e.radioGroupErrorMessage?"var-radio--error":null,e.formDisabled||e.disabled?"var-radio--disabled":null]]),style:Z({color:e.checked?e.checkedColor:e.uncheckedColor})},[e.checked?A(e.$slots,"checked-icon",{key:0},()=>[D(a,{class:k(["var-radio__icon",[e.withAnimation?"var-radio--with-animation":null]]),"var-radio-cover":"",name:"radio-marked",size:e.iconSize},null,8,["class","size"])]):A(e.$slots,"unchecked-icon",{key:1},()=>[D(a,{class:k(["var-radio__icon",[e.withAnimation?"var-radio--with-animation":null]]),"var-radio-cover":"",name:"radio-blank",size:e.iconSize},null,8,["class","size"])])],6),[[u,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}]]),C("div",{class:k(["var-radio__text",[e.errorMessage||e.radioGroupErrorMessage?"var-radio--error":null,e.formDisabled||e.disabled?"var-radio--disabled":null]])},[A(e.$slots,"default")],2)],16),D(c,{"error-message":e.errorMessage},null,8,["error-message"])])}var P=E(ce,[["render",ve]]);P.install=function(e){e.component(P.name,P)};export{M as R,P as a};
