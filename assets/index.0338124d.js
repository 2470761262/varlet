import{d as z,h as B}from"./elements.0f1b5e0a.js";import{t as C}from"./shared.5973ad73.js";import{_ as H}from"./IconSfc.394079fb.js";import{q as I,r as t,b as p,y as N,H as j,I as O,x as P,G as R,o as V,c as q,a as A,O as D,n as M,m as G}from"./vendor.cfbfc887.js";const U={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onScroll:{type:Function}};const J=I({name:"VarSticky",props:U,setup(e){const a=t(null),i=t(null),l=t(!1),r=t("0px"),f=t("0px"),m=t("auto"),b=t("auto"),h=t("auto"),y=t("auto"),k=p(()=>!e.disabled&&e.cssMode),$=p(()=>!e.disabled&&l.value),d=p(()=>z(e.offsetTop));let o=window;const n=()=>{const{onScroll:s,cssMode:F,disabled:W}=e;if(W)return;let u=0;if(o!==window){const{top:T}=o.getBoundingClientRect();u=T}const S=i.value,c=a.value,{top:E,left:L}=c.getBoundingClientRect(),g=E-u;g<=d.value?(F||(m.value=`${c.offsetWidth}px`,b.value=`${c.offsetHeight}px`,r.value=`${u+d.value}px`,f.value=`${L}px`,h.value=`${S.offsetWidth}px`,y.value=`${S.offsetHeight}px`,l.value=!0),s==null||s(d.value,!0)):(l.value=!1,s==null||s(g,!1))},x=()=>{o=B(a.value),o!==window&&o.addEventListener("scroll",n),window.addEventListener("scroll",n),n()},w=()=>{o!==window&&o.removeEventListener("scroll",n),window.removeEventListener("scroll",n)};return N(()=>e.disabled,n),j(x),O(w),P(x),R(w),{stickyEl:a,wrapperEl:i,isFixed:l,offsetTop:d,fixedTop:r,fixedLeft:f,fixedWidth:m,fixedHeight:b,fixedWrapperWidth:h,fixedWrapperHeight:y,enableCSSMode:k,enableFixedMode:$,toNumber:C}}});function K(e,a,i,l,r,f){return V(),q("div",{class:G(["var-sticky",[e.enableCSSMode?"var-sticky--css-mode":null]]),ref:"stickyEl",style:M({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?`${e.offsetTop}px`:null,width:e.enableFixedMode?e.fixedWidth:null,height:e.enableFixedMode?e.fixedHeight:null})},[A("div",{class:"var-sticky__wrapper",ref:"wrapperEl",style:M({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":null,width:e.enableFixedMode?e.fixedWrapperWidth:null,height:e.enableFixedMode?e.fixedWrapperHeight:null,left:e.enableFixedMode?e.fixedLeft:null,top:e.enableFixedMode?e.fixedTop:null})},[D(e.$slots,"default")],4)],6)}var v=H(J,[["render",K]]);v.install=function(e){e.component(v.name,v)};export{v as S,U as p};
