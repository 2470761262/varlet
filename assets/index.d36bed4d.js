import{M as D}from"./index.616c62b5.js";import{R as ae}from"./index.20a388b7.js";import{I as L}from"./index.ef3db56c.js";import{C as A}from"./index.8eaa0051.js";import{I as J}from"./index.b11bdfec.js";import{q as ie,r as f,b as $,y as K,d as N,e as le,o as p,c,i as T,a as B,O,m as b,h,a3 as Q,l as M,t as v,F as R,j as G,w as F,k as se,f as w}from"./vendor.cfbfc887.js";import{t as m,i as E}from"./shared.5973ad73.js";import{p as ne,u as te,a as W,_ as oe,b as ue,c as re}from"./en-US.478ce936.js";import{_ as de}from"./IconSfc.8e5067c1.js";const ve={current:{type:[Number,String]},size:{type:[Number,String],default:10},total:{type:[Number,String],default:0},maxPagerCount:{type:Number,default:3},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!0},showSizeChanger:{type:Boolean,default:!0},showQuickJumper:{type:Boolean,default:!1},sizeOption:{type:Array,default:()=>[10,20,50,100]},showTotal:{type:Function},onChange:{type:Function}};const pe=ie({name:"VarPagination",components:{[D.name]:D,[L.name]:L,[A.name]:A,[J.name]:J},directives:{Ripple:ae},props:ve,setup(e){const l=f(!1),I=f(""),y=f("1"),V=f(!1),z=f(!1),s=f(m(e.current)||1),r=f(m(e.size)||10),C=f([]),S=$(()=>Math.ceil(e.maxPagerCount/2)),o=$(()=>Math.ceil(m(e.total)/m(r.value))),i=$(()=>{const a=r.value*(s.value-1)+1,n=Math.min(r.value*s.value,m(e.total));return[a,n]}),g=$(()=>e.showTotal?e.showTotal(m(e.total),i.value):""),U=(a,n)=>E(a)?!1:n===1?V.value:z.value,Y=(a,n)=>E(a)?"basic":n===1?"head":"tail",Z=(a,n)=>{a===s.value||e.disabled||(E(a)?s.value=a:a==="prev"?s.value>1&&(s.value-=1):a==="next"?s.value<o.value&&(s.value+=1):a==="..."&&(n===1?s.value=Math.max(s.value-e.maxPagerCount,1):s.value=Math.min(s.value+e.maxPagerCount,o.value)))},_=()=>{e.disabled||(l.value=!0)},x=a=>{r.value=a,l.value=!1},H=a=>/^[1-9][0-9]*$/.test(a),ee=(a,n,P)=>{if(P.target.blur(),H(n)){let k=m(n);k>o.value&&(k=o.value,y.value=`${k}`),k!==s.value&&(s.value=k)}a==="quick"&&(I.value=""),a==="simple"&&!H(n)&&(y.value=`${s.value}`)};return K([()=>e.current,()=>e.size],([a,n])=>{s.value=m(a)||1,r.value=m(n||10)}),K([s,o],([a,n],[P,k])=>{var q;if(a>n){s.value=n;return}let u=[];const{maxPagerCount:d}=e,j=n-(d-S.value)-1;if(y.value=`${a}`,n-2>d){if(P===void 0||n!==k)for(let t=2;t<d+2;t++)u.push(t);if(a<=d&&a<j){u=[];for(let t=1;t<d+1;t++)u.push(t+1);V.value=!0,z.value=!1}if(a>d&&a<j){u=[];for(let t=1;t<d+1;t++)u.push(a+t-S.value);V.value=a===2&&d===1,z.value=!1}if(a>=j){u=[];for(let t=1;t<d+1;t++)u.push(n-(d-t)-1);V.value=!1,z.value=!0}u=[1,"...",...u,"...",n]}else for(let t=1;t<=n;t++)u.push(t);C.value=u,P!==void 0&&((q=e.onChange)==null||q.call(e,a,r.value))},{immediate:!0}),{pack:ne,current:s,menuVisible:l,size:r,pageCount:o,pageList:C,inputValue:I,simpleValue:y,totalText:g,getMode:Y,isHideEllipsis:U,clickItem:Z,showMenu:_,clickSize:x,setPage:ee}}}),me={class:"var-pagination"},ge=["item-mode","onClick"];function fe(e,l,I,y,V,z){const s=N("var-icon"),r=N("var-input"),C=N("var-cell"),S=N("var-menu"),o=le("ripple");return p(),c("ul",me,[T(B("li",{class:b(["var-pagination__item var-pagination__prev",{"var-pagination__item-disabled":e.current<=1||e.disabled,"var-elevation--2":!e.simple}]),onClick:l[0]||(l[0]=i=>e.clickItem("prev"))},[O(e.$slots,"prev",{},()=>[h(s,{name:"chevron-left"})])],2),[[o,{disabled:e.current<=1||e.disabled}]]),e.simple?(p(),c("li",{key:0,class:b(["var-pagination__simple",{"var-pagination__item-disabled":e.disabled}])},[h(r,{modelValue:e.simpleValue,"onUpdate:modelValue":l[1]||(l[1]=i=>e.simpleValue=i),disabled:e.disabled,"var-pagination-cover":"",onBlur:l[2]||(l[2]=i=>e.setPage("simple",e.simpleValue,i)),onKeydown:l[3]||(l[3]=Q(i=>e.setPage("simple",e.simpleValue,i),["enter"]))},null,8,["modelValue","disabled"]),M(" / "+v(e.pageCount),1)],2)):(p(!0),c(R,{key:1},G(e.pageList,(i,g)=>T((p(),c("li",{key:i+g,"item-mode":e.getMode(i,g),class:b(["var-pagination__item var-elevation--2",{"var-pagination__item-active":i===e.current,"var-pagination__item-hide":e.isHideEllipsis(i,g),"var-pagination__item-disabled":e.disabled}]),onClick:U=>e.clickItem(i,g)},[M(v(i),1)],10,ge)),[[o,{disabled:e.disabled}]])),128)),T(B("li",{class:b(["var-pagination__item var-pagination__next",{"var-pagination__item-disabled":e.current>=e.pageCount||e.disabled,"var-elevation--2":!e.simple}]),onClick:l[4]||(l[4]=i=>e.clickItem("next"))},[O(e.$slots,"next",{},()=>[h(s,{name:"chevron-right"})])],2),[[o,{disabled:e.current>=e.pageCount||e.disabled}]]),e.showSizeChanger?(p(),c("li",{key:2,class:b(["var-pagination__size",{"var-pagination__item-disabled":e.disabled,"var-pagination--simple-padding":e.simple}])},[h(S,{show:e.menuVisible,"onUpdate:show":l[6]||(l[6]=i=>e.menuVisible=i),"offset-x":-4},{menu:F(()=>[(p(!0),c(R,null,G(e.sizeOption,(i,g)=>T((p(),se(C,{class:b(["var-pagination__list",{"var-pagination__list-active":e.size===i}]),key:g,onClick:U=>e.clickSize(i)},{default:F(()=>[M(v(i)+v(e.pack.paginationItem)+" / "+v(e.pack.paginationPage),1)]),_:2},1032,["class","onClick"])),[[o]])),128))]),default:F(()=>[B("div",{class:"var-pagination__size-open",style:{display:"flex"},onClick:l[5]||(l[5]=(...i)=>e.showMenu&&e.showMenu(...i))},[B("span",null,v(e.size)+v(e.pack.paginationItem)+" / "+v(e.pack.paginationPage),1),h(s,{class:"var-pagination__size-open-icon","var-pagination-cover":"",name:"menu-down"})])]),_:1},8,["show"])],2)):w("v-if",!0),e.showQuickJumper&&!e.simple?(p(),c("li",{key:3,class:b(["var-pagination__quickly",{"var-pagination__item-disabled":e.disabled}])},[M(v(e.pack.paginationJump)+" ",1),h(r,{modelValue:e.inputValue,"onUpdate:modelValue":l[7]||(l[7]=i=>e.inputValue=i),disabled:e.disabled,"var-pagination-cover":"",onBlur:l[8]||(l[8]=i=>e.setPage("quick",e.inputValue,i)),onKeydown:l[9]||(l[9]=Q(i=>e.setPage("quick",e.inputValue,i),["enter"]))},null,8,["modelValue","disabled"])],2)):w("v-if",!0),e.totalText?(p(),c("li",{key:4,class:b(["var-pagination__total",{"var-pagination--simple-padding":e.simple}])},v(e.totalText),3)):w("v-if",!0)])}var Te=de(pe,[["render",fe]]),ce={basicUsage:"\u57FA\u672C\u4F7F\u7528",showTotal:"\u663E\u793A\u603B\u6570",total:"\u5171",item:"\u6761",disabled:"\u7981\u7528",hideSize:"\u9690\u85CF size \u5207\u6362\u5668",pcTotal:"\u5171",current:"\u5F53\u524D"},be={basicUsage:"Basic Usage",showTotal:"Show Total",total:"",item:"items",disabled:"Disabled",hideSize:"Hide Size Changer",pcTotal:"Total ",current:"Current"};const{add:X,use:ke,pack:Be,packs:Me,merge:Ie}=te(),Ue=e=>{re(e),ke(e)};W("zh-CN",oe);W("en-US",ue);X("zh-CN",ce);X("en-US",be);export{Te as P,Be as p,Ue as u};
