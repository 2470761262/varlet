import{F as e,u as a}from"./provide.04a164f5.js";import{c as r,d as o,b as l,e as n,f as i}from"./components.0481fe69.js";import{_ as d}from"./IconSfc.22678cb1.js";import{q as s,b as t,y as c,d as u,o as v,c as m,a as p,O as g,m as h,h as f,z as y,r as V,e as k,i as b,n as _,P as C}from"./vendor.85536c59.js";import{R}from"./index.7f242a26.js";import{I as M}from"./index.565310a0.js";const A={modelValue:{default:void 0},direction:{type:String,default:"horizontal",validator:function(e){return["horizontal","vertical"].includes(e)}},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},z=Symbol("RADIO_GROUP_BIND_RADIO_KEY"),G=Symbol("RADIO_GROUP_COUNT_RADIO_KEY");const S=s({name:"VarRadioGroup",components:{[e.name]:e},props:A,setup(e){const{length:n,radios:i,bindRadios:d}=function(){const{bindChildren:e,childProviders:a}=r(z),{length:l}=o(G);return{length:l,radios:a,bindRadios:e}}(),{bindForm:s}=a(),{errorMessage:u,validateWithTrigger:v,validate:m,resetValidation:p}=l(),g=t((()=>u.value)),h=()=>i.forEach((({sync:a})=>a(e.modelValue))),f=()=>m(e.rules,e.modelValue),V=()=>{var a;null==(a=e["onUpdate:modelValue"])||a.call(e,void 0),p()};c((()=>e.modelValue),h),c((()=>n.value),h);const k={onToggle:a=>{var r,o,l;null==(r=e["onUpdate:modelValue"])||r.call(e,a),null==(o=e.onChange)||o.call(e,a),l="onChange",y((()=>{const{validateTrigger:a,rules:r,modelValue:o}=e;v(a,l,r,o)}))},validate:f,reset:V,resetValidation:p,errorMessage:g};return null==s||s(k),d(k),{errorMessage:u,reset:V,validate:f,resetValidation:p}}}),D={class:"var-radio-group__wrap"};var T=d(S,[["render",function(e,a,r,o,l,n){const i=u("var-form-details");return v(),m("div",D,[p("div",{class:h(["var-radio-group",[`var-radio-group--${e.direction}`]])},[g(e.$slots,"default")],2),f(i,{"error-message":e.errorMessage},null,8,["error-message"])])}]]);T.install=function(e){e.component(T.name,T)};const U={modelValue:{default:!1},checkedValue:{default:!0},uncheckedValue:{default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},checkedColor:{type:String},uncheckedColor:{type:String},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onClick:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}};const F=s({name:"VarRadio",directives:{Ripple:R},components:{[M.name]:M,[e.name]:e},inheritAttrs:!1,props:U,setup(e){const r=V(!1),o=t((()=>r.value===e.checkedValue)),d=V(!1),{radioGroup:s,bindRadioGroup:u}=function(){const{bindParent:e,parentProvider:a}=n(z),{index:r}=i(G);return{index:r,radioGroup:a,bindRadioGroup:e}}(),{form:v,bindForm:m}=a(),{errorMessage:p,validateWithTrigger:g,validate:h,resetValidation:f}=l(),k=a=>{var o;const{checkedValue:l,onChange:n}=e;var i;s&&r.value===l||(r.value=a,null==(o=e["onUpdate:modelValue"])||o.call(e,r.value),null==n||n(r.value),null==s||s.onToggle(l),i="onChange",y((()=>{const{validateTrigger:a,rules:r,modelValue:o}=e;g(a,i,r,o)})))},b=()=>{var a;null==(a=e["onUpdate:modelValue"])||a.call(e,e.uncheckedValue),f()},_=()=>h(e.rules,e.modelValue);c((()=>e.modelValue),(e=>{r.value=e}),{immediate:!0});const C={sync:a=>{const{checkedValue:o,uncheckedValue:l}=e;r.value=a===o?o:l},validate:_,resetValidation:f,reset:b};return null==u||u(C),null==m||m(C),{withAnimation:d,checked:o,errorMessage:p,radioGroupErrorMessage:null==s?void 0:s.errorMessage,formDisabled:null==v?void 0:v.disabled,formReadonly:null==v?void 0:v.readonly,handleClick:a=>{const{disabled:r,readonly:l,uncheckedValue:n,checkedValue:i,onClick:s}=e;(null==v?void 0:v.disabled.value)||r||(null==s||s(a),(null==v?void 0:v.readonly.value)||l||(d.value=!0,k(o.value?n:i)))},toggle:a=>{const{uncheckedValue:r,checkedValue:l}=e;![r,l].includes(a)&&(a=o.value?r:l),k(a)},reset:b,validate:_,resetValidation:f}}}),O={class:"var-radio__wrap"};var w=d(F,[["render",function(e,a,r,o,l,n){const i=u("var-icon"),d=u("var-form-details"),s=k("ripple");return v(),m("div",O,[p("div",C({class:"var-radio",onClick:a[0]||(a[0]=(...a)=>e.handleClick&&e.handleClick(...a))},e.$attrs),[b(p("div",{class:h(["var-radio__action",[e.checked?"var-radio--checked":"var-radio--unchecked",e.errorMessage||e.radioGroupErrorMessage?"var-radio--error":null,e.formDisabled||e.disabled?"var-radio--disabled":null]]),style:_({color:e.checked?e.checkedColor:e.uncheckedColor})},[e.checked?g(e.$slots,"checked-icon",{key:0},(()=>[f(i,{class:h(["var-radio__icon",[e.withAnimation?"var-radio--with-animation":null]]),"var-radio-cover":"",name:"radio-marked",size:e.iconSize},null,8,["class","size"])])):g(e.$slots,"unchecked-icon",{key:1},(()=>[f(i,{class:h(["var-radio__icon",[e.withAnimation?"var-radio--with-animation":null]]),"var-radio-cover":"",name:"radio-blank",size:e.iconSize},null,8,["class","size"])]))],6),[[s,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}]]),p("div",{class:h(["var-radio__text",[e.errorMessage||e.radioGroupErrorMessage?"var-radio--error":null,e.formDisabled||e.disabled?"var-radio--disabled":null]])},[g(e.$slots,"default")],2)],16),f(d,{"error-message":e.errorMessage},null,8,["error-message"])])}]]);w.install=function(e){e.component(w.name,w)};export{T as R,w as a};
