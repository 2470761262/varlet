import{A as a}from"./AppType.5a8a2ee0.js";import{e,r as t}from"./elements.f945da86.js";import{t as s,p as o}from"./shared.6d6b25a1.js";import{_ as n,w as l}from"./IconSfc.7d4b9349.js";import{q as r,r as u,y as m,o as c,c as i,O as d,W as p,X as f,k as v,t as h,d as S,a as k,g as b,w,F as x,S as y,U as C}from"./vendor.613212a8.js";import{S as g}from"./index.1ab49b49.js";import{B as j}from"./index.6283e704.js";import{u as T,a as _,_ as M,b as D,c as H}from"./en-US.f5da4181.js";import"./index.4d9296d0.js";import"./index.7b1ee4f9.js";import"./zIndex.dda88a32.js";import"./index.642010f1.js";import"./components.7c010433.js";import"./lock.6e17ca6f.js";const U={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:{type:Function},onChange:{type:Function}};const F=r({name:"VarCountdown",props:U,setup(a){const n=u(0),l=u(!1),r=u(""),c=u(0),i=u(0),d=u({}),p=()=>{const{time:e,onEnd:u,autoStart:m}=a,f=Date.now();n.value||(n.value=f+s(e));let v=n.value-f;v<0&&(v=0),i.value=v,(e=>{var t;const s={days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3),milliseconds:Math.floor(e%1e3)};d.value=s,null==(t=a.onChange)||t.call(a,d.value),r.value=o(a.format,s)})(v),0!==v?(m||l.value)&&(c.value=t(p)):null==u||u()},f=()=>{n.value=0,l.value=!1,e(c.value),p()};return m((()=>a.time),(()=>f()),{immediate:!0}),{showTime:r,timeData:d,start:()=>{l.value||(l.value=!0,n.value=Date.now()+(i.value||s(a.time)),p())},pause:()=>{l.value=!1},reset:f}}}),E={class:"var-countdown"};var $=n(F,[["render",function(a,e,t,s,o,n){return c(),i("div",E,[d(a.$slots,"default",p(f(a.timeData)),(()=>[v(h(a.showTime),1)]))])}]]);$.install=function(a){a.component($.name,$)};const{add:z,use:A,pack:B,packs:I,merge:N}=T(),q=a=>{H(a),A(a)};_("zh-CN",M),_("en-US",D),z("zh-CN",{basicUsage:"基本使用",customFormat:"自定义格式",showMillisecond:"显示毫秒",customStyle:"自定义样式",manualControl:"手动控制",format:"DD 天 HH 时 mm 分 ss 秒",startText:"开始",pauseText:"暂停",resetText:"重置"}),z("en-US",{basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"});const O={name:"CountdownExample",components:{[$.name]:$,[j.name]:j,AppType:a},setup(){const a=u(null),e=u(3e3);return l(q),{time:e,pack:B,end:()=>{g.info("end!")},countdown:a,change:()=>{}}}},P=a=>(y("data-v-37d61b5b"),a=a(),C(),a),R={class:"block"},V=P((()=>k("span",{class:"colon"},":",-1))),W={class:"block"},X=P((()=>k("span",{class:"colon"},":",-1))),G={class:"block"},J={class:"btn-container"};var K=n(O,[["render",function(a,e,t,s,o,n){const l=S("app-type"),r=S("var-countdown"),u=S("var-button");return c(),i(x,null,[k("div",null,[b(l,null,{default:w((()=>[v(h(s.pack.basicUsage),1)])),_:1}),b(r,{time:"108000000"})]),k("div",null,[b(l,null,{default:w((()=>[v(h(s.pack.customFormat),1)])),_:1}),b(r,{time:"108000000",format:s.pack.format},null,8,["format"])]),k("div",null,[b(l,null,{default:w((()=>[v(h(s.pack.showMillisecond),1)])),_:1}),b(r,{time:"108000000",format:"HH : mm : ss : SS"})]),k("div",null,[b(l,null,{default:w((()=>[v(h(s.pack.customStyle),1)])),_:1}),b(r,{time:"108000000"},{default:w((a=>[k("span",R,h(a.hours),1),V,k("span",W,h(a.minutes),1),X,k("span",G,h(a.seconds),1)])),_:1})]),k("div",null,[b(l,null,{default:w((()=>[v(h(s.pack.manualControl),1)])),_:1}),b(r,{time:s.time,ref:"countdown","auto-start":!1,format:"ss : SSS",onEnd:s.end,onChange:s.change},null,8,["time","onEnd","onChange"]),k("div",J,[b(u,{type:"primary",onClick:e[0]||(e[0]=e=>a.$refs.countdown.start())},{default:w((()=>[v(h(s.pack.startText),1)])),_:1}),b(u,{onClick:e[1]||(e[1]=e=>a.$refs.countdown.pause())},{default:w((()=>[v(h(s.pack.pauseText),1)])),_:1}),b(u,{onClick:e[2]||(e[2]=e=>a.$refs.countdown.reset())},{default:w((()=>[v(h(s.pack.resetText),1)])),_:1})])])],64)}],["__scopeId","data-v-37d61b5b"]]);export{K as default};
