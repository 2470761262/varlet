var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{A as s}from"./AppType.08a99ced.js";import{c as d,d as c,e as r,f as u}from"./components.0481fe69.js";import{b as p}from"./shared.6d6b25a1.js";import{_ as m,w as v}from"./IconSfc.22678cb1.js";import{q as f,b,y as h,o as _,c as g,O as V,z as y,r as k,d as C,a as x,i as S,v as j,m as E,l as O,t as U,h as w,p as T,a2 as I,w as P}from"./vendor.85536c59.js";import{r as A}from"./elements.f945da86.js";import{I as M}from"./index.565310a0.js";import{B as L}from"./index.7650b131.js";import{u as N,a as B,_ as H,b as $,c as z}from"./en-US.97fca002.js";import"./index.7f242a26.js";import"./index.6e856e8f.js";const D=Symbol("COLLAPSE_BIND_COLLAPSE_ITEM_KEY"),F=Symbol("COLLAPSE_COUNT_COLLAPSE_ITEM_KEY");const K=f({name:"VarCollapse",props:{modelValue:{type:[Array,String,Number]},accordion:{type:Boolean,default:!1},offset:{type:Boolean,default:!0},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},setup(e){const{length:a,collapseItem:l,bindCollapseItem:t}=function(){const{bindChildren:e,childProviders:a}=d(D),{length:l}=c(F);return{length:l,collapseItem:a,bindCollapseItem:e}}(),o=b((()=>e.modelValue)),n=b((()=>e.offset)),i=()=>e.accordion||p(e.modelValue)?!e.accordion||!p(e.modelValue)||(console.error('[Varlet] Collapse: type of prop "modelValue" should be a String or Number'),!1):(console.error('[Varlet] Collapse: type of prop "modelValue" should be an Array'),!1),s=()=>{if(!i())return;const a=(()=>{if(e.accordion)return l.find((({name:a})=>e.modelValue===a.value));const a=l.filter((({name:a})=>void 0!==a.value&&e.modelValue.includes(a.value)));return a.length?a:void 0})()||(e.accordion?l.find((({index:a,name:l})=>void 0===l.value&&e.modelValue===a.value)):l.filter((({index:a,name:l})=>void 0===l.value&&e.modelValue.includes(a.value))));e.accordion&&!a||!e.accordion&&!a.length?l.forEach((a=>{a.init(e.accordion,!1)})):l.forEach((l=>{const t=e.accordion?a===l:a.includes(l);l.init(e.accordion,t)}))};t({active:o,offset:n,updateItem:(a,l)=>{var t,o;const n=((a,l)=>{if(i())return l?e.accordion?a:[...e.modelValue,a]:e.accordion?null:e.modelValue.filter((e=>e!==a))})(a,l);null==(t=e["onUpdate:modelValue"])||t.call(e,n),null==(o=e.onChange)||o.call(e,n)}}),h((()=>a.value),(()=>y().then(s))),h((()=>e.modelValue),(()=>y().then(s)))}}),Y={class:"var-collapse"};var q=m(K,[["render",function(e,a,l,t,o,n){return _(),g("div",Y,[V(e.$slots,"default")])}]]);q.install=function(e){e.component(q.name,q)};const W={name:{type:[String,Number]},title:{type:String},icon:{type:String,default:"chevron-down"},disabled:{type:Boolean,default:!1}};const G=f({name:"VarCollapseItem",components:{[M.name]:M},props:W,setup(e){const{index:a,collapse:l,bindCollapse:t}=function(){const{parentProvider:e,bindParent:a}=r(D),{index:l}=u(F);return{index:l,collapse:e,bindCollapse:a}}();if(!l||!t||!a)return void console.error("[Varlet] Collapse: <var-collapse-item/> must in <var-collapse>");const o=k(null),n=k(!1),i=k(!1),{active:s,offset:d,updateItem:c}=l,m=b((()=>e.name)),v=l=>{e.disabled||l||c(e.name||a.value,!i.value)};return t({index:a,name:m,init:(e,a)=>{void 0===s.value||e&&p(s.value)||a===i.value||(i.value=a,v(!0))}}),h(i,(e=>{e?o.value&&(o.value.style.height="",n.value=!0,y((()=>{const{offsetHeight:e}=o.value;o.value.style.height="0px",A((()=>{o.value.style.height=e+"px"}))}))):o.value&&(o.value.style.height="0px")})),{show:n,isShow:i,offset:d,toggle:v,contentEl:o,transitionend:()=>{i.value||(n.value=!1,o.value.style.height="")}}}}),J={class:"var-collapse-item-header__title"},Q={class:"var-collapse-item-header__icon"},R={class:"var-collapse-item__wrap"};var X=m(G,[["render",function(e,a,l,t,o,n){const i=C("var-icon");return _(),g("div",{class:E({"var-collapse-item":!0,"var-collapse-item__active":e.offset&&e.isShow,"var-collapse-item__disable":e.disabled})},[x("div",{class:"var-collapse-item-header",onClick:a[0]||(a[0]=a=>e.toggle())},[x("div",J,[V(e.$slots,"title",{},(()=>[O(U(e.title),1)]))]),x("div",Q,[V(e.$slots,"icon",{},(()=>[w(i,{name:e.icon,transition:400,class:E({"var-collapse-item-header__icon":!0,"var-collapse-item-header__open":e.isShow&&"chevron-down"===e.icon,"var-collapse-item-header__disable":e.disabled})},null,8,["name","class"])]))])]),S(x("div",{class:"var-collapse-item-content",ref:"contentEl",onTransitionend:a[1]||(a[1]=(...a)=>e.transitionend&&e.transitionend(...a))},[x("div",R,[V(e.$slots,"default")])],544),[[j,e.show]])],2)}]]);X.install=function(e){e.component(X.name,X)};const{add:Z,use:ee,pack:ae,packs:le,merge:te}=N(),oe=e=>{z(e),ee(e)};B("zh-CN",H),B("en-US",$),Z("zh-CN",{basicUsage:"基本使用",hideMargin:"隐藏边距",accordionMode:"手风琴模式",disabled:"禁用",enable:"启用",customContent:"自定义内容",title:"标题",text:"文本",slotTitle:"这是标题",slotContent:"这是内容"}),Z("en-US",{basicUsage:"Basic Usage",hideMargin:"Hide Margin",accordionMode:"Accordion Mode",disabled:"Disabled",enable:"Enable",customContent:"Custom Content",title:"Title",text:"Hello World",slotTitle:"This is a Title",slotContent:"This is a content"});const ne={name:"CollapseExample",components:{[q.name]:q,[X.name]:X,[L.name]:L,AppType:s},setup(){const e=T({disabled:!1,value:["1"],value1:"",value2:[1],value3:["1"],value4:["2"]});return v(oe),s=((e,a)=>{for(var l in a||(a={}))o.call(a,l)&&i(e,l,a[l]);if(t)for(var l of t(a))n.call(a,l)&&i(e,l,a[l]);return e})({},I(e)),a(s,l({pack:ae,changeHandle:e=>{console.log(e)}}));var s}},ie={class:"collapse-demo"},se=O("^_^");var de=m(ne,[["render",function(e,a,l,t,o,n){const i=C("app-type"),s=C("var-collapse-item"),d=C("var-collapse"),c=C("var-button");return _(),g("div",ie,[x("div",null,[w(i,null,{default:P((()=>[O(U(t.pack.basicUsage),1)])),_:1}),w(d,{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=a=>e.value=a),onChange:t.changeHandle},{default:P((()=>[w(s,{title:t.pack.title,name:"1"},{default:P((()=>[O(U(t.pack.text),1)])),_:1},8,["title"]),w(s,{title:t.pack.title,name:"2"},{default:P((()=>[O(U(t.pack.text),1)])),_:1},8,["title"])])),_:1},8,["modelValue","onChange"])]),x("div",null,[w(i,null,{default:P((()=>[O(U(t.pack.hideMargin),1)])),_:1}),w(d,{modelValue:e.value4,"onUpdate:modelValue":a[1]||(a[1]=a=>e.value4=a),offset:!1},{default:P((()=>[w(s,{title:t.pack.title,name:"1"},{default:P((()=>[O(U(t.pack.text),1)])),_:1},8,["title"]),w(s,{title:t.pack.title,name:"2"},{default:P((()=>[O(U(t.pack.text),1)])),_:1},8,["title"])])),_:1},8,["modelValue"])]),x("div",null,[w(i,null,{default:P((()=>[O(U(t.pack.accordionMode),1)])),_:1}),w(d,{modelValue:e.value1,"onUpdate:modelValue":a[2]||(a[2]=a=>e.value1=a),accordion:"",offset:!1},{default:P((()=>[w(s,{title:t.pack.title,name:"1"},{default:P((()=>[O(U(t.pack.text),1)])),_:1},8,["title"]),w(s,{title:t.pack.title,name:"2"},{default:P((()=>[O(U(t.pack.text),1)])),_:1},8,["title"])])),_:1},8,["modelValue"])]),x("div",null,[w(i,null,{default:P((()=>[O(U(t.pack.disabled),1)])),_:1}),w(c,{onClick:a[3]||(a[3]=a=>e.disabled=!e.disabled),style:{"margin-bottom":"8px"}},{default:P((()=>[O(U(e.disabled?t.pack.enable:t.pack.disabled),1)])),_:1}),w(d,{modelValue:e.value2,"onUpdate:modelValue":a[4]||(a[4]=a=>e.value2=a)},{default:P((()=>[w(s,{title:t.pack.title,name:1,disabled:e.disabled},{default:P((()=>[O(U(t.pack.text),1)])),_:1},8,["title","disabled"]),w(s,{title:t.pack.title,name:2,disabled:e.disabled},{default:P((()=>[O(U(t.pack.text),1)])),_:1},8,["title","disabled"])])),_:1},8,["modelValue"])]),x("div",null,[w(i,null,{default:P((()=>[O(U(t.pack.customContent),1)])),_:1}),w(d,{modelValue:e.value3,"onUpdate:modelValue":a[5]||(a[5]=a=>e.value3=a)},{default:P((()=>[w(s,{title:t.pack.slotTitle,name:"1",icon:"account-circle"},{default:P((()=>[O(U(t.pack.text),1)])),_:1},8,["title"]),w(s,{name:"2"},{title:P((()=>[O(U(t.pack.slotTitle),1)])),icon:P((()=>[se])),default:P((()=>[O(" "+U(t.pack.slotContent),1)])),_:1})])),_:1},8,["modelValue"])])])}]]);export{de as default};
