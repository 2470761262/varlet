import{M as H}from"./index.53dcbc58.js";import{R as ee}from"./index.389a472f.js";import{I as D}from"./index.049652a9.js";import{C as q}from"./index.1082cf64.js";import{I as L}from"./index.bf8c0244.js";import{t as m,i as j}from"./shared.5973ad73.js";import{p as ae,u as ie,a as A,_ as le,b as se,c as te}from"./en-US.41b73ea2.js";import{_ as ne}from"./IconSfc.b6073932.js";import{q as oe,r as g,b as C,y as J,d as B,e as ue,o as p,c as b,i as N,a as T,O,m as h,h as k,l as M,t as v,F as Q,j as R,w,k as re,f as F}from"./vendor.bac705d4.js";const de={current:{type:[Number,String]},size:{type:[Number,String],default:10},total:{type:[Number,String],default:0},maxShowBtnCount:{type:Number,default:3},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!0},showSizeChanger:{type:Boolean,default:!0},showQuickJumper:{type:Boolean,default:!1},sizeOption:{type:Array,default:()=>[10,20,50,100]},showTotal:{type:Function},onChange:{type:Function}};const ve=oe({name:"VarPagination",components:{[H.name]:H,[D.name]:D,[q.name]:q,[L.name]:L},directives:{Ripple:ee},props:de,setup(e){const t=g(!1),I=g(""),y=g("1"),S=g(!1),z=g(!1),l=g(m(e.current)||1),r=g(m(e.size)||10),V=g([]),$=C(()=>Math.ceil(e.maxShowBtnCount/2)),o=C(()=>Math.ceil(m(e.total)/m(r.value))),i=C(()=>{const a=r.value*(l.value-1)+1,s=Math.min(r.value*l.value,m(e.total));return[a,s]}),f=C(()=>e.showTotal?e.showTotal(m(e.total),i.value):""),P=(a,s)=>j(a)?!1:s===1?S.value:z.value,K=(a,s)=>j(a)?"basic":s===1?"head":"tail",W=(a,s)=>{a===l.value||e.disabled||(j(a)?l.value=a:a==="prev"?l.value>1&&(l.value-=1):a==="next"?l.value<o.value&&(l.value+=1):a==="..."&&(s===1?l.value=Math.max(l.value-e.maxShowBtnCount,1):l.value=Math.min(l.value+e.maxShowBtnCount,o.value)))},X=()=>{e.disabled||(t.value=!0)},Y=a=>{r.value=a,t.value=!1},_=a=>/^[1-9][0-9]*$/.test(a),Z=(a,s)=>{if(_(s)){let c=m(s);c>o.value&&(c=o.value,y.value=`${c}`),c!==l.value&&(l.value=c)}a==="quick"&&(I.value=""),a==="simple"&&!_(s)&&(y.value=`${l.value}`)};return J([()=>e.current,()=>e.size],([a,s])=>{l.value=m(a)||1,r.value=m(s||10)}),J([l,o],([a,s],[c,x])=>{var E;if(a>s){l.value=s;return}let u=[];const{maxShowBtnCount:d}=e,U=s-(d-$.value)-1;if(y.value=`${a}`,s-2>d){if(c===void 0||s!==x)for(let n=2;n<d+2;n++)u.push(n);if(a<=d&&a<U){u=[];for(let n=1;n<d+1;n++)u.push(n+1);S.value=!0,z.value=!1}if(a>d&&a<U){u=[];for(let n=1;n<d+1;n++)u.push(a+n-$.value);S.value=a===2&&d===1,z.value=!1}if(a>=U){u=[];for(let n=1;n<d+1;n++)u.push(s-(d-n)-1);S.value=!1,z.value=!0}u=[1,"...",...u,"...",s]}else for(let n=1;n<=s;n++)u.push(n);V.value=u,c!==void 0&&((E=e.onChange)==null||E.call(e,a,r.value))},{immediate:!0}),{pack:ae,current:l,menuVisible:t,size:r,pageCount:o,pageList:V,inputValue:I,simpleValue:y,totalText:f,getMode:K,isHideEllipsis:P,clickItem:W,showMenu:X,clickSize:Y,setPage:Z}}}),me={class:"var-pagination"},pe=["item-mode","onClick"],fe={key:4,class:"var-pagination__total"};function ce(e,t,I,y,S,z){const l=B("var-icon"),r=B("var-input"),V=B("var-cell"),$=B("var-menu"),o=ue("ripple");return p(),b("ul",me,[N(T("li",{class:h(["var-pagination__item var-pagination__prev",{"var-pagination__item-disabled":e.current<=1||e.disabled,"var-elevation--2":!e.simple}]),onClick:t[0]||(t[0]=i=>e.clickItem("prev"))},[O(e.$slots,"prev",{},()=>[k(l,{name:"chevron-left"})])],2),[[o,{disabled:e.current<=1||e.disabled}]]),e.simple?(p(),b("li",{key:0,class:h(["var-pagination__simple",{"var-pagination__item-disabled":e.disabled}])},[k(r,{modelValue:e.simpleValue,"onUpdate:modelValue":t[1]||(t[1]=i=>e.simpleValue=i),disabled:e.disabled,"var-pagination-cover":"",onBlur:t[2]||(t[2]=i=>e.setPage("simple",e.simpleValue))},null,8,["modelValue","disabled"]),M(" / "+v(e.pageCount),1)],2)):(p(!0),b(Q,{key:1},R(e.pageList,(i,f)=>N((p(),b("li",{key:i+f,"item-mode":e.getMode(i,f),class:h(["var-pagination__item var-elevation--2",{"var-pagination__item-active":i===e.current,"var-pagination__item-hide":e.isHideEllipsis(i,f),"var-pagination__item-disabled":e.disabled}]),onClick:P=>e.clickItem(i,f)},[M(v(i),1)],10,pe)),[[o,{disabled:e.disabled}]])),128)),N(T("li",{class:h(["var-pagination__item var-pagination__next",{"var-pagination__item-disabled":e.current>=e.pageCount||e.disabled,"var-elevation--2":!e.simple}]),onClick:t[3]||(t[3]=i=>e.clickItem("next"))},[O(e.$slots,"next",{},()=>[k(l,{name:"chevron-right"})])],2),[[o,{disabled:e.current>=e.pageCount||e.disabled}]]),e.showSizeChanger?(p(),b("li",{key:2,class:h(["var-pagination__size",{"var-pagination__item-disabled":e.disabled}])},[k($,{show:e.menuVisible,"onUpdate:show":t[5]||(t[5]=i=>e.menuVisible=i),"offset-x":-8},{menu:w(()=>[(p(!0),b(Q,null,R(e.sizeOption,(i,f)=>N((p(),re(V,{class:h(["var-pagination__list",{"var-pagination__list-active":e.size===i}]),key:f,onClick:P=>e.clickSize(i)},{default:w(()=>[M(v(i)+v(e.pack.paginationItem)+" / "+v(e.pack.paginationPage),1)]),_:2},1032,["class","onClick"])),[[o]])),128))]),default:w(()=>[T("div",{class:"var-pagination__size-open",style:{display:"flex"},onClick:t[4]||(t[4]=(...i)=>e.showMenu&&e.showMenu(...i))},[T("span",null,v(e.size)+v(e.pack.paginationItem)+" / "+v(e.pack.paginationPage),1),k(l,{name:"menu-down"})])]),_:1},8,["show"])],2)):F("v-if",!0),e.showQuickJumper&&!e.simple?(p(),b("li",{key:3,class:h(["var-pagination__quickly",{"var-pagination__item-disabled":e.disabled}])},[M(v(e.pack.paginationJump)+" ",1),k(r,{modelValue:e.inputValue,"onUpdate:modelValue":t[6]||(t[6]=i=>e.inputValue=i),disabled:e.disabled,"var-pagination-cover":"",onBlur:t[7]||(t[7]=i=>e.setPage("quick",e.inputValue))},null,8,["modelValue","disabled"])],2)):F("v-if",!0),e.totalText?(p(),b("li",fe,v(e.totalText),1)):F("v-if",!0)])}var Te=ne(ve,[["render",ce]]),ge={basicUsage:"\u57FA\u672C\u4F7F\u7528",showTotal:"\u663E\u793A\u603B\u6570",total:"\u5171",item:"\u6761",disabled:"\u7981\u7528",hideSize:"\u9690\u85CF size \u5207\u6362\u5668",pcTotal:"\u5171",current:"\u5F53\u524D"},be={basicUsage:"Basic Usage",showTotal:"Show Total",total:"",item:"items",disabled:"Disabled",hideSize:"Hide Size Changer",pcTotal:"Total ",current:"current"};const{add:G,use:he,pack:Me,packs:Ie,merge:Pe}=ie(),Ue=e=>{te(e),he(e)};A("zh-CN",le);A("en-US",se);G("zh-CN",ge);G("en-US",be);export{Te as P,Me as p,Ue as u};
