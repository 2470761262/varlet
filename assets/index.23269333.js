import{b as e}from"./components.0481fe69.js";import{t as a}from"./shared.6d6b25a1.js";import{F as l,u as o}from"./provide.04a164f5.js";import{L as t}from"./index.6e856e8f.js";import{R as r}from"./index.7f242a26.js";import{_ as i}from"./IconSfc.22678cb1.js";import{q as s,b as n,z as d,d as c,e as u,o as p,c as v,a as m,n as h,m as f,i as g,k as y,f as b,h as V}from"./vendor.85536c59.js";const w={modelValue:{default:!1},activeValue:{default:!0},inactiveValue:{default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},color:{type:String},loadingColor:{type:String},closeColor:{type:String},size:{type:[String,Number],default:20},rules:{type:Array},ripple:{type:Boolean,default:!0},onClick:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}};const C=s({name:"VarSwitch",components:{[t.name]:t,[l.name]:l},directives:{Ripple:r},props:w,setup(l){const{bindForm:t,form:r}=o(),{errorMessage:i,validateWithTrigger:s,validate:c,resetValidation:u}=e(),p=n((()=>{const{size:e,modelValue:o,color:t,closeColor:r,loadingColor:s,activeValue:n}=l,d=a(e),c=2*d,u=1.2*d;return{handle:{width:`${e}px`,height:`${e}px`,backgroundColor:o===n?t||"":r||"",color:s&&s},ripple:{left:o===n?d/2+"px":`-${d/2}px`,color:o===n?t||"":r||"#999",width:2*d+"px",height:2*d+"px"},track:{height:.6*u+"px",width:c-2+"px",borderRadius:c/3+"px",filter:o===n||(null==i?void 0:i.value)?"opacity(.6)":"brightness(.6)",backgroundColor:o===n?t||"":r||""},switch:{height:`${u}px`,width:`${c}px`}}}));return null==t||t({reset:()=>{var e;null==(e=l["onUpdate:modelValue"])||e.call(l,l.inactiveValue),u()},validate:()=>c(l.rules,l.modelValue),resetValidation:u}),{switchActive:()=>{const{onClick:e,onChange:a,disabled:o,loading:t,readonly:i,modelValue:n,activeValue:c,inactiveValue:u,"onUpdate:modelValue":p}=l;if(null==e||e(),o||t||i||(null==r?void 0:r.disabled.value)||(null==r?void 0:r.readonly.value))return;const v=n===c?u:c;null==a||a(v),null==p||p(v),d((()=>s(["onChange"],"onChange",l.rules,l.modelValue)))},styleComputed:p,errorMessage:i,formDisabled:null==r?void 0:r.disabled,formReadonly:null==r?void 0:r.readonly}}}),_={class:"var-switch"};var x=i(C,[["render",function(e,a,l,o,t,r){const i=c("var-loading"),s=c("var-form-details"),n=u("ripple");return p(),v("div",_,[m("div",{class:f(["var-switch-block",[e.disabled||e.formDisabled?"var-switch__disable":null]]),onClick:a[0]||(a[0]=(...a)=>e.switchActive&&e.switchActive(...a)),style:h(e.styleComputed.switch)},[m("div",{style:h(e.styleComputed.track),class:f(["var-switch__track",[e.modelValue===e.activeValue?"var-switch__track-active":null,e.errorMessage?"var-switch__track-error":null]])},null,6),g(m("div",{class:"var-switch__ripple",style:h(e.styleComputed.ripple)},[m("div",{style:h(e.styleComputed.handle),class:f(["var-switch__handle var-elevation--2",[e.modelValue===e.activeValue?"var-switch__handle-active":null,e.errorMessage?"var-switch__handle-error":null]])},[e.loading?(p(),y(i,{key:0,radius:e.size/2-2},null,8,["radius"])):b("v-if",!0)],6)],4),[[n,{disabled:!e.ripple||e.disabled||e.loading||e.formDisabled}]])],6),V(s,{"error-message":e.errorMessage},null,8,["error-message"])])}]]);x.install=function(e){e.component(x.name,x)};export{x as S};
