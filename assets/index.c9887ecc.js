import{A as a}from"./AppType.d0f8da8a.js";import{e,r as t}from"./elements.f945da86.js";import{t as s,p as o}from"./shared.6d6b25a1.js";import{_ as n}from"./IconSfc.d1e88af2.js";import{q as l,r as u,y as r,o as m,c,O as d,W as i,X as p,l as f,t as v,d as h,a as S,h as k,w,F as b,S as x,U as y}from"./vendor.bac705d4.js";import{S as C}from"./index.16611b15.js";import{B as j}from"./index.9a216741.js";import{u as g,a as T,_,b as M,c as D,d as H}from"./utils.a0011fda.js";import"./index.6e8a3cbb.js";import"./index.deaa662f.js";import"./zIndex.779be491.js";import"./index.623f4af7.js";import"./components.fc1d8498.js";import"./lock.f9d85b9f.js";const F={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:{type:Function},onChange:{type:Function}};const U=l({name:"VarCountdown",props:F,setup(a){const n=u(0),l=u(!1),m=u(""),c=u(0),d=u(0),i=u({}),p=()=>{const{time:e,onEnd:u,autoStart:r}=a,f=Date.now();n.value||(n.value=f+s(e));let v=n.value-f;v<0&&(v=0),d.value=v,(e=>{var t;const s={days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3),milliseconds:Math.floor(e%1e3)};i.value=s,null==(t=a.onChange)||t.call(a,i.value),m.value=o(a.format,s)})(v),0!==v?(r||l.value)&&(c.value=t(p)):null==u||u()},f=()=>{n.value=0,l.value=!1,e(c.value),p()};return r((()=>a.time),(()=>f()),{immediate:!0}),{showTime:m,timeData:i,start:()=>{l.value||(l.value=!0,n.value=Date.now()+(d.value||s(a.time)),p())},pause:()=>{l.value=!1},reset:f}}}),E={class:"var-countdown"};var $=n(U,[["render",function(a,e,t,s,o,n){return m(),c("div",E,[d(a.$slots,"default",i(p(a.timeData)),(()=>[f(v(a.showTime),1)]))])}]]);$.install=function(a){a.component($.name,$)};const{add:z,use:A,pack:B,packs:I,merge:N}=g(),q=a=>{D(a),A(a)};T("zh-CN",_),T("en-US",M),z("zh-CN",{basicUsage:"基本使用",customFormat:"自定义格式",showMillisecond:"显示毫秒",customStyle:"自定义样式",manualControl:"手动控制",format:"DD 天 HH 时 mm 分 ss 秒",startText:"开始",pauseText:"暂停",resetText:"重置"}),z("en-US",{basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"});const O={name:"CountdownExample",components:{[$.name]:$,[j.name]:j,AppType:a},setup(){const a=u(null),e=u(3e3);return H(q),{time:e,pack:B,end:()=>{C.info("end!")},countdown:a,change:()=>{}}}},P=a=>(x("data-v-caa2d80e"),a=a(),y(),a),R={class:"block"},V=P((()=>S("span",{class:"colon"},":",-1))),W={class:"block"},X=P((()=>S("span",{class:"colon"},":",-1))),G={class:"block"},J={class:"btn-container"};var K=n(O,[["render",function(a,e,t,s,o,n){const l=h("app-type"),u=h("var-countdown"),r=h("var-button");return m(),c(b,null,[S("div",null,[k(l,null,{default:w((()=>[f(v(s.pack.basicUsage),1)])),_:1}),k(u,{time:"108000000"})]),S("div",null,[k(l,null,{default:w((()=>[f(v(s.pack.customFormat),1)])),_:1}),k(u,{time:"108000000",format:s.pack.format},null,8,["format"])]),S("div",null,[k(l,null,{default:w((()=>[f(v(s.pack.showMillisecond),1)])),_:1}),k(u,{time:"108000000",format:"HH : mm : ss : SS"})]),S("div",null,[k(l,null,{default:w((()=>[f(v(s.pack.customStyle),1)])),_:1}),k(u,{time:"108000000"},{default:w((a=>[S("span",R,v(a.hours),1),V,S("span",W,v(a.minutes),1),X,S("span",G,v(a.seconds),1)])),_:1})]),S("div",null,[k(l,null,{default:w((()=>[f(v(s.pack.manualControl),1)])),_:1}),k(u,{time:s.time,ref:"countdown","auto-start":!1,format:"ss : SSS",onEnd:s.end,onChange:s.change},null,8,["time","onEnd","onChange"]),S("div",J,[k(r,{type:"primary",onClick:e[0]||(e[0]=e=>a.$refs.countdown.start())},{default:w((()=>[f(v(s.pack.startText),1)])),_:1}),k(r,{onClick:e[1]||(e[1]=e=>a.$refs.countdown.pause())},{default:w((()=>[f(v(s.pack.pauseText),1)])),_:1}),k(r,{onClick:e[2]||(e[2]=e=>a.$refs.countdown.reset())},{default:w((()=>[f(v(s.pack.resetText),1)])),_:1})])])],64)}],["__scopeId","data-v-caa2d80e"]]);export{K as default};
