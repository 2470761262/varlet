import{p as t,S as e}from"./index.fea3e0ee.js";import{q as a,r as i,b as o,y as n,x as l,G as r,T as s,o as c,j as d,w as u,a as v,m as f,O as p,n as b,P as m,R as y,z as h,e as C,h as g,c as S}from"./vendor.613212a8.js";import{p as x,c as T,d as z,e as D,f as k}from"./components.7c010433.js";import{f as $,q as _}from"./shared.6d6b25a1.js";import{t as B,s as E}from"./elements.f945da86.js";import{_ as j}from"./IconSfc.7d4b9349.js";import{R as w}from"./index.642010f1.js";function L(t){return["horizontal","vertical"].includes(t)}const U={active:{type:[String,Number],default:0},layoutDirection:{type:String,default:"horizontal",validator:L},itemDirection:{type:String,default:"horizontal",validator:L},fixedBottom:{type:Boolean,default:!1},activeColor:{type:String},inactiveColor:{type:String},disabledColor:{type:String},color:{type:String},indicatorColor:{type:String},indicatorSize:{type:[String,Number]},elevation:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},offsetTop:x(t,"offsetTop"),onClick:{type:Function},onChange:{type:Function},"onUpdate:active":{type:Function}},A=Symbol("TABS_BIND_TAB_KEY"),H=Symbol("TABS_COUNT_TAB_KEY");var N=j(a({name:"VarTabs",components:{[e.name]:e},inheritAttrs:!1,props:U,setup(t){const e=i("0px"),a=i("0px"),c=i("0px"),d=i("0px"),u=i(!1),v=i(null),f=o((()=>t.active)),p=o((()=>t.activeColor)),b=o((()=>t.inactiveColor)),m=o((()=>t.disabledColor)),y=o((()=>t.itemDirection)),{tabList:C,bindTabList:g,length:S}=function(){const{childProviders:t,bindChildren:e}=T(A),{length:a}=z(H);return{length:a,tabList:t,bindTabList:e}}(),x=()=>C.find((({index:e})=>t.active===e.value)),D=()=>{const i=C.find((({name:e})=>t.active===e.value))||x()||(()=>{var e,a;if(0===S.value)return;const{active:i}=t;return $(i)&&(i>S.value-1?null==(e=t["onUpdate:active"])||e.call(t,S.value-1):null==(a=t["onUpdate:active"])||a.call(t,0)),x()})();i&&!i.disabled.value&&(u.value=C.length>=5,(({element:i})=>{const o=i.value;"horizontal"===t.layoutDirection?(e.value=`${null==o?void 0:o.offsetWidth}px`,c.value=`${null==o?void 0:o.offsetLeft}px`):(a.value=`${null==o?void 0:o.offsetHeight}px`,d.value=`${null==o?void 0:o.offsetTop}px`)})(i),(({element:e})=>{if(!u.value)return;const a=v.value,i=e.value;if("horizontal"===t.layoutDirection){const t=i.offsetLeft+i.offsetWidth/2-a.offsetWidth/2;E(a,{left:t,animation:_})}else{const t=i.offsetTop+i.offsetHeight/2-a.offsetHeight/2;E(a,{top:t,animation:_})}})(i))};return g({active:f,activeColor:p,inactiveColor:b,disabledColor:m,itemDirection:y,resize:D,onTabClick:e=>{var a,i;const o=null!=(a=e.name.value)?a:e.index.value,{active:n,onChange:l,onClick:r}=t;null==(i=t["onUpdate:active"])||i.call(t,o),null==r||r(o),o!==n&&(null==l||l(o))}}),n((()=>S.value),(()=>h().then(D))),n((()=>t.active),D),l((()=>window.addEventListener("resize",D))),r((()=>window.removeEventListener("resize",D))),{indicatorWidth:e,indicatorHeight:a,indicatorX:c,indicatorY:d,scrollable:u,scrollerEl:v,Transition:s,toSizeUnit:B,resize:D}}}),[["render",function(t,e,a,i,o,n){return c(),d(y(t.sticky?"var-sticky":t.Transition),{"offset-top":t.sticky?t.offsetTop:null},{default:u((()=>[v("div",m({class:["var-tabs var--box",[`var-tabs--item-${t.itemDirection}`,`var-tabs--layout-${t.layoutDirection}-padding`,t.elevation?"var-elevation--4":null,t.fixedBottom?"var-tabs--fixed-bottom":null]],style:{background:t.color}},t.$attrs),[v("div",{class:f(["var-tabs__tab-wrap",[t.scrollable?`var-tabs--layout-${t.layoutDirection}-scrollable`:null,`var-tabs--layout-${t.layoutDirection}`]]),ref:"scrollerEl"},[p(t.$slots,"default"),v("div",{class:f(["var-tabs__indicator",[`var-tabs--layout-${t.layoutDirection}-indicator`]]),style:b({width:"horizontal"===t.layoutDirection?t.indicatorWidth:t.toSizeUnit(t.indicatorSize),height:"horizontal"===t.layoutDirection?t.toSizeUnit(t.indicatorSize):t.indicatorHeight,transform:"horizontal"===t.layoutDirection?`translateX(${t.indicatorX})`:`translateY(${t.indicatorY})`,background:t.indicatorColor||t.activeColor})},null,6)],2)],16)])),_:3},8,["offset-top"])}]]);N.install=function(t){t.component(N.name,N)};var W=j(a({name:"VarTab",directives:{Ripple:w},props:{name:{type:[String,Number]},disabled:{type:Boolean,default:!1},onClick:{type:Function}},setup(t){const e=i(null),a=o((()=>t.name)),l=o((()=>t.disabled)),r=o((()=>e.value)),{index:s,tabs:c,bindTabs:d}=function(){const{parentProvider:t,bindParent:e}=D(A),{index:a}=k(H);if(!t||!e||!a)throw Error("<var-tab/> must in <var-tabs/>");return{index:a,tabs:t,bindTabs:e}}(),{onTabClick:u,active:v,activeColor:f,inactiveColor:p,disabledColor:b,itemDirection:m,resize:y}=c,h={name:a,index:s,disabled:l,element:r};d(h);return n((()=>t.name),y),n((()=>t.disabled),y),{tabEl:e,active:v,activeColor:f,inactiveColor:p,itemDirection:m,computeColorStyle:()=>{const{disabled:e,name:a}=t;return e?b.value:v.value===a||v.value===(null==s?void 0:s.value)?f.value:p.value},computeColorClass:()=>{const{disabled:e,name:a}=t;return e?"var-tab--disabled":v.value===a||v.value===(null==s?void 0:s.value)?"var-tab--active":"var-tab--inactive"},handleClick:e=>{const{disabled:a,name:i,onClick:o}=t;a||(null==o||o(null!=i?i:s.value,e),u(h))}}}}),[["render",function(t,e,a,i,o,n){const l=C("ripple");return g((c(),S("div",{class:f(["var-tab var--box",[t.computeColorClass(),`var-tab--${t.itemDirection}`]]),ref:"tabEl",style:b({color:t.computeColorStyle()}),onClick:e[0]||(e[0]=(...e)=>t.handleClick&&t.handleClick(...e))},[p(t.$slots,"default")],6)),[[l,{disabled:t.disabled}]])}]]);W.install=function(t){t.component(W.name,W)};export{N as T,W as a};
