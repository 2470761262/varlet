import{M as D}from"./index.44e1d245.js";import{R as ae}from"./index.20a388b7.js";import{I as L}from"./index.cf7907d1.js";import{C as A}from"./index.c5b5f758.js";import{I as J}from"./index.54672d5c.js";import{q as ie,r as g,b as $,y as K,d as N,e as le,o as p,c,i as T,a as w,O,m as b,h,a3 as Q,l as P,t as v,F as R,j as G,w as j,k as se,f as F}from"./vendor.cfbfc887.js";import{t as m,i as E}from"./shared.5973ad73.js";import{p as ne,u as te,a as W,_ as oe,b as ue,c as re}from"./en-US.1632ca69.js";import{_ as de}from"./IconSfc.cbcd63c5.js";const ve={current:{type:[Number,String]},size:{type:[Number,String],default:10},total:{type:[Number,String],default:0},maxShowBtnCount:{type:Number,default:3},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!0},showSizeChanger:{type:Boolean,default:!0},showQuickJumper:{type:Boolean,default:!1},sizeOption:{type:Array,default:()=>[10,20,50,100]},showTotal:{type:Function},onChange:{type:Function}};const pe=ie({name:"VarPagination",components:{[D.name]:D,[L.name]:L,[A.name]:A,[J.name]:J},directives:{Ripple:ae},props:ve,setup(e){const l=g(!1),M=g(""),y=g("1"),V=g(!1),z=g(!1),s=g(m(e.current)||1),r=g(m(e.size)||10),S=g([]),C=$(()=>Math.ceil(e.maxShowBtnCount/2)),o=$(()=>Math.ceil(m(e.total)/m(r.value))),i=$(()=>{const a=r.value*(s.value-1)+1,n=Math.min(r.value*s.value,m(e.total));return[a,n]}),f=$(()=>e.showTotal?e.showTotal(m(e.total),i.value):""),I=(a,n)=>E(a)?!1:n===1?V.value:z.value,Y=(a,n)=>E(a)?"basic":n===1?"head":"tail",Z=(a,n)=>{a===s.value||e.disabled||(E(a)?s.value=a:a==="prev"?s.value>1&&(s.value-=1):a==="next"?s.value<o.value&&(s.value+=1):a==="..."&&(n===1?s.value=Math.max(s.value-e.maxShowBtnCount,1):s.value=Math.min(s.value+e.maxShowBtnCount,o.value)))},_=()=>{e.disabled||(l.value=!0)},x=a=>{r.value=a,l.value=!1},H=a=>/^[1-9][0-9]*$/.test(a),ee=(a,n,B)=>{if(B.target.blur(),H(n)){let k=m(n);k>o.value&&(k=o.value,y.value=`${k}`),k!==s.value&&(s.value=k)}a==="quick"&&(M.value=""),a==="simple"&&!H(n)&&(y.value=`${s.value}`)};return K([()=>e.current,()=>e.size],([a,n])=>{s.value=m(a)||1,r.value=m(n||10)}),K([s,o],([a,n],[B,k])=>{var q;if(a>n){s.value=n;return}let u=[];const{maxShowBtnCount:d}=e,U=n-(d-C.value)-1;if(y.value=`${a}`,n-2>d){if(B===void 0||n!==k)for(let t=2;t<d+2;t++)u.push(t);if(a<=d&&a<U){u=[];for(let t=1;t<d+1;t++)u.push(t+1);V.value=!0,z.value=!1}if(a>d&&a<U){u=[];for(let t=1;t<d+1;t++)u.push(a+t-C.value);V.value=a===2&&d===1,z.value=!1}if(a>=U){u=[];for(let t=1;t<d+1;t++)u.push(n-(d-t)-1);V.value=!1,z.value=!0}u=[1,"...",...u,"...",n]}else for(let t=1;t<=n;t++)u.push(t);S.value=u,B!==void 0&&((q=e.onChange)==null||q.call(e,a,r.value))},{immediate:!0}),{pack:ne,current:s,menuVisible:l,size:r,pageCount:o,pageList:S,inputValue:M,simpleValue:y,totalText:f,getMode:Y,isHideEllipsis:I,clickItem:Z,showMenu:_,clickSize:x,setPage:ee}}}),me={class:"var-pagination"},fe=["item-mode","onClick"];function ge(e,l,M,y,V,z){const s=N("var-icon"),r=N("var-input"),S=N("var-cell"),C=N("var-menu"),o=le("ripple");return p(),c("ul",me,[T(w("li",{class:b(["var-pagination__item var-pagination__prev",{"var-pagination__item-disabled":e.current<=1||e.disabled,"var-elevation--2":!e.simple}]),onClick:l[0]||(l[0]=i=>e.clickItem("prev"))},[O(e.$slots,"prev",{},()=>[h(s,{name:"chevron-left"})])],2),[[o,{disabled:e.current<=1||e.disabled}]]),e.simple?(p(),c("li",{key:0,class:b(["var-pagination__simple",{"var-pagination__item-disabled":e.disabled}])},[h(r,{modelValue:e.simpleValue,"onUpdate:modelValue":l[1]||(l[1]=i=>e.simpleValue=i),disabled:e.disabled,"var-pagination-cover":"",onBlur:l[2]||(l[2]=i=>e.setPage("simple",e.simpleValue,i)),onKeydown:l[3]||(l[3]=Q(i=>e.setPage("simple",e.simpleValue,i),["enter"]))},null,8,["modelValue","disabled"]),P(" / "+v(e.pageCount),1)],2)):(p(!0),c(R,{key:1},G(e.pageList,(i,f)=>T((p(),c("li",{key:i+f,"item-mode":e.getMode(i,f),class:b(["var-pagination__item var-elevation--2",{"var-pagination__item-active":i===e.current,"var-pagination__item-hide":e.isHideEllipsis(i,f),"var-pagination__item-disabled":e.disabled}]),onClick:I=>e.clickItem(i,f)},[P(v(i),1)],10,fe)),[[o,{disabled:e.disabled}]])),128)),T(w("li",{class:b(["var-pagination__item var-pagination__next",{"var-pagination__item-disabled":e.current>=e.pageCount||e.disabled,"var-elevation--2":!e.simple}]),onClick:l[4]||(l[4]=i=>e.clickItem("next"))},[O(e.$slots,"next",{},()=>[h(s,{name:"chevron-right"})])],2),[[o,{disabled:e.current>=e.pageCount||e.disabled}]]),e.showSizeChanger?(p(),c("li",{key:2,class:b(["var-pagination__size",{"var-pagination__item-disabled":e.disabled,"var-pagination--simple-padding":e.simple}])},[h(C,{show:e.menuVisible,"onUpdate:show":l[6]||(l[6]=i=>e.menuVisible=i),"offset-x":-4},{menu:j(()=>[(p(!0),c(R,null,G(e.sizeOption,(i,f)=>T((p(),se(S,{class:b(["var-pagination__list",{"var-pagination__list-active":e.size===i}]),key:f,onClick:I=>e.clickSize(i)},{default:j(()=>[P(v(i)+v(e.pack.paginationItem)+" / "+v(e.pack.paginationPage),1)]),_:2},1032,["class","onClick"])),[[o]])),128))]),default:j(()=>[w("div",{class:"var-pagination__size-open",style:{display:"flex"},onClick:l[5]||(l[5]=(...i)=>e.showMenu&&e.showMenu(...i))},[w("span",null,v(e.size)+v(e.pack.paginationItem)+" / "+v(e.pack.paginationPage),1),h(s,{class:"var-pagination__size-open-icon","var-pagination-cover":"",name:"menu-down"})])]),_:1},8,["show"])],2)):F("v-if",!0),e.showQuickJumper&&!e.simple?(p(),c("li",{key:3,class:b(["var-pagination__quickly",{"var-pagination__item-disabled":e.disabled}])},[P(v(e.pack.paginationJump)+" ",1),h(r,{modelValue:e.inputValue,"onUpdate:modelValue":l[7]||(l[7]=i=>e.inputValue=i),disabled:e.disabled,"var-pagination-cover":"",onBlur:l[8]||(l[8]=i=>e.setPage("quick",e.inputValue,i)),onKeydown:l[9]||(l[9]=Q(i=>e.setPage("quick",e.inputValue,i),["enter"]))},null,8,["modelValue","disabled"])],2)):F("v-if",!0),e.totalText?(p(),c("li",{key:4,class:b(["var-pagination__total",{"var-pagination--simple-padding":e.simple}])},v(e.totalText),3)):F("v-if",!0)])}var Te=de(pe,[["render",ge]]),ce={basicUsage:"\u57FA\u672C\u4F7F\u7528",showTotal:"\u663E\u793A\u603B\u6570",total:"\u5171",item:"\u6761",disabled:"\u7981\u7528",hideSize:"\u9690\u85CF size \u5207\u6362\u5668",pcTotal:"\u5171",current:"\u5F53\u524D"},be={basicUsage:"Basic Usage",showTotal:"Show Total",total:"",item:"items",disabled:"Disabled",hideSize:"Hide Size Changer",pcTotal:"Total ",current:"Current"};const{add:X,use:ke,pack:we,packs:Pe,merge:Me}=te(),Ie=e=>{re(e),ke(e)};W("zh-CN",oe);W("en-US",ue);X("zh-CN",ce);X("en-US",be);export{Te as P,we as p,Ie as u};
