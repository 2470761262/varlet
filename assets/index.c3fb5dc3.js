import{A as V}from"./AppType.d58c881d.js";import{e as O,r as P}from"./elements.0f1b5e0a.js";import{t as A,p as R}from"./shared.5973ad73.js";import{_ as B}from"./IconSfc.12692c7c.js";import{q,r as d,y as L,o as D,c as E,O as W,W as X,X as Y,l,t as n,d as b,a as s,h as o,w as r,F as G,S as J,U as K}from"./vendor.bac705d4.js";import{S as Q}from"./index.eaaa3e0a.js";import{B as N}from"./index.b6a0d794.js";import{u as Z,a as U,_ as ee,b as te,c as ae,w as oe}from"./en-US.4960d9b4.js";import"./index.b4bc4b38.js";import"./index.9e5d49b4.js";import"./zIndex.148a12e4.js";import"./index.389a472f.js";import"./components.7d95671e.js";import"./lock.cdd0a0f9.js";const ne={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:{type:Function},onChange:{type:Function}};const k=1e3,x=60*k,F=60*x,M=24*F,se=q({name:"VarCountdown",props:ne,setup(e){const a=d(0),u=d(!1),t=d(""),C=d(0),S=d(0),c=d({}),i=f=>{var j;const v=Math.floor(f/M),y=Math.floor(f%M/F),w=Math.floor(f%F/x),_=Math.floor(f%x/k),z=Math.floor(f%k),T={days:v,hours:y,minutes:w,seconds:_,milliseconds:z};c.value=T,(j=e.onChange)==null||j.call(e,c.value),t.value=R(e.format,T)},p=()=>{const{time:f,onEnd:v,autoStart:y}=e,w=Date.now();a.value||(a.value=w+A(f));let _=a.value-w;if(_<0&&(_=0),S.value=_,i(_),_===0){v==null||v();return}(y||u.value)&&(C.value=P(p))},m=()=>{u.value||(u.value=!0,a.value=Date.now()+(S.value||A(e.time)),p())},I=()=>{u.value=!1},g=()=>{a.value=0,u.value=!1,O(C.value),p()};return L(()=>e.time,()=>g(),{immediate:!0}),{showTime:t,timeData:c,start:m,pause:I,reset:g}}}),ue={class:"var-countdown"};function ce(e,a,u,t,C,S){return D(),E("div",ue,[W(e.$slots,"default",X(Y(e.timeData)),()=>[l(n(e.showTime),1)])])}var h=B(se,[["render",ce]]);h.install=function(e){e.component(h.name,h)};var le={basicUsage:"\u57FA\u672C\u4F7F\u7528",customFormat:"\u81EA\u5B9A\u4E49\u683C\u5F0F",showMillisecond:"\u663E\u793A\u6BEB\u79D2",customStyle:"\u81EA\u5B9A\u4E49\u6837\u5F0F",manualControl:"\u624B\u52A8\u63A7\u5236",format:"DD \u5929 HH \u65F6 mm \u5206 ss \u79D2",startText:"\u5F00\u59CB",pauseText:"\u6682\u505C",resetText:"\u91CD\u7F6E"},re={basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"};const{add:H,use:me,pack:de,packs:Me,merge:He}=Z(),ie=e=>{ae(e),me(e)};U("zh-CN",ee);U("en-US",te);H("zh-CN",le);H("en-US",re);const pe={name:"CountdownExample",components:{[h.name]:h,[N.name]:N,AppType:V},setup(){const e=d(null),a=d(3e3),u=()=>{Q.info("end!")},t=()=>{};return oe(ie),{time:a,pack:de,end:u,countdown:e,change:t}}},$=e=>(J("data-v-caa2d80e"),e=e(),K(),e),fe={class:"block"},_e=$(()=>s("span",{class:"colon"},":",-1)),ve={class:"block"},he=$(()=>s("span",{class:"colon"},":",-1)),Ce={class:"block"},Se={class:"btn-container"};function we(e,a,u,t,C,S){const c=b("app-type"),i=b("var-countdown"),p=b("var-button");return D(),E(G,null,[s("div",null,[o(c,null,{default:r(()=>[l(n(t.pack.basicUsage),1)]),_:1}),o(i,{time:"108000000"})]),s("div",null,[o(c,null,{default:r(()=>[l(n(t.pack.customFormat),1)]),_:1}),o(i,{time:"108000000",format:t.pack.format},null,8,["format"])]),s("div",null,[o(c,null,{default:r(()=>[l(n(t.pack.showMillisecond),1)]),_:1}),o(i,{time:"108000000",format:"HH : mm : ss : SS"})]),s("div",null,[o(c,null,{default:r(()=>[l(n(t.pack.customStyle),1)]),_:1}),o(i,{time:"108000000"},{default:r(m=>[s("span",fe,n(m.hours),1),_e,s("span",ve,n(m.minutes),1),he,s("span",Ce,n(m.seconds),1)]),_:1})]),s("div",null,[o(c,null,{default:r(()=>[l(n(t.pack.manualControl),1)]),_:1}),o(i,{time:t.time,ref:"countdown","auto-start":!1,format:"ss : SSS",onEnd:t.end,onChange:t.change},null,8,["time","onEnd","onChange"]),s("div",Se,[o(p,{type:"primary",onClick:a[0]||(a[0]=m=>e.$refs.countdown.start())},{default:r(()=>[l(n(t.pack.startText),1)]),_:1}),o(p,{onClick:a[1]||(a[1]=m=>e.$refs.countdown.pause())},{default:r(()=>[l(n(t.pack.pauseText),1)]),_:1}),o(p,{onClick:a[2]||(a[2]=m=>e.$refs.countdown.reset())},{default:r(()=>[l(n(t.pack.resetText),1)]),_:1})])])],64)}var $e=B(pe,[["render",we],["__scopeId","data-v-caa2d80e"]]);export{$e as default};
