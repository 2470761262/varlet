import{M as D}from"./index.895377bd.js";import{R as x}from"./index.40559b3e.js";import{I as J}from"./index.5334ab49.js";import{C as K}from"./index.d63b9ac4.js";import{I as L}from"./index.57b54076.js";import{q as ee,r as f,b as N,y as O,d as B,e as ae,o as m,c as b,i as S,a as j,B as Q,m as c,h as y,N as R,l as C,t as v,F as A,j as _,w as q,k as ie,f as w}from"./vendor.7d218dee.js";import{t as p,i as H}from"./shared.5973ad73.js";import{p as le}from"./en-US.c590db11.js";import{_ as ne}from"./elevation.61c5e873.js";const se={current:{type:[Number,String]},size:{type:[Number,String],default:10},total:{type:[Number,String],default:0},maxPagerCount:{type:Number,default:3},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!0},showSizeChanger:{type:Boolean,default:!0},showQuickJumper:{type:Boolean,default:!1},sizeOption:{type:Array,default:()=>[10,20,50,100]},showTotal:{type:Function},onChange:{type:Function}};const te=ee({name:"VarPagination",components:{[D.name]:D,[J.name]:J,[K.name]:K,[L.name]:L},directives:{Ripple:x},props:se,setup(e){const l=f(!1),I=f(""),V=f("1"),h=f(!1),P=f(!1),n=f(p(e.current)||1),u=f(p(e.size)||10),z=f([]),$=N(()=>Math.ceil(e.maxPagerCount/2)),o=N(()=>Math.ceil(p(e.total)/p(u.value))),i=N(()=>{const a=u.value*(n.value-1)+1,s=Math.min(u.value*n.value,p(e.total));return[a,s]}),g=N(()=>e.showTotal?e.showTotal(p(e.total),i.value):""),T=(a,s)=>H(a)?!1:s===1?h.value:P.value,G=(a,s)=>H(a)?"basic":s===1?"head":"tail",W=(a,s)=>{a===n.value||e.disabled||(H(a)?n.value=a:a==="prev"?n.value>1&&(n.value-=1):a==="next"?n.value<o.value&&(n.value+=1):a==="..."&&(s===1?n.value=Math.max(n.value-e.maxPagerCount,1):n.value=Math.min(n.value+e.maxPagerCount,o.value)))},X=()=>{e.disabled||(l.value=!0)},Y=a=>{u.value=a,l.value=!1},F=a=>/^[1-9][0-9]*$/.test(a),Z=(a,s,M)=>{if(M.target.blur(),F(s)){let k=p(s);k>o.value&&(k=o.value,V.value=`${k}`),k!==n.value&&(n.value=k)}a==="quick"&&(I.value=""),a==="simple"&&!F(s)&&(V.value=`${n.value}`)};return O([()=>e.current,()=>e.size],([a,s])=>{n.value=p(a)||1,u.value=p(s||10)}),O([n,o],([a,s],[M,k])=>{var U;if(a>s){n.value=s;return}let r=[];const{maxPagerCount:d}=e,E=s-(d-$.value)-1;if(V.value=`${a}`,s-2>d){if(M===void 0||s!==k)for(let t=2;t<d+2;t++)r.push(t);if(a<=d&&a<E){r=[];for(let t=1;t<d+1;t++)r.push(t+1);h.value=!0,P.value=!1}if(a>d&&a<E){r=[];for(let t=1;t<d+1;t++)r.push(a+t-$.value);h.value=a===2&&d===1,P.value=!1}if(a>=E){r=[];for(let t=1;t<d+1;t++)r.push(s-(d-t)-1);h.value=!1,P.value=!0}r=[1,"...",...r,"...",s]}else for(let t=1;t<=s;t++)r.push(t);z.value=r,M!==void 0&&((U=e.onChange)==null||U.call(e,a,u.value))},{immediate:!0}),{pack:le,current:n,menuVisible:l,size:u,pageCount:o,pageList:z,inputValue:I,simpleValue:V,totalText:g,getMode:G,isHideEllipsis:T,clickItem:W,showMenu:X,clickSize:Y,setPage:Z}}}),oe={class:"var-pagination"},re=["item-mode","onClick"],ue={key:4,class:"var-pagination__total"};function de(e,l,I,V,h,P){const n=B("var-icon"),u=B("var-input"),z=B("var-cell"),$=B("var-menu"),o=ae("ripple");return m(),b("ul",oe,[S(j("li",{class:c(["var-pagination__item var-pagination__prev",{"var-pagination__item-disabled":e.current<=1||e.disabled,"var-pagination__item-hover":e.simple,"var-elevation--2":!e.simple}]),onClick:l[0]||(l[0]=i=>e.clickItem("prev"))},[Q(e.$slots,"prev",{},()=>[y(n,{name:"chevron-left"})])],2),[[o,{disabled:e.current<=1||e.disabled}]]),e.simple?(m(),b("li",{key:0,class:c(["var-pagination__simple",{"var-pagination__item-disabled":e.disabled}])},[y(u,{modelValue:e.simpleValue,"onUpdate:modelValue":l[1]||(l[1]=i=>e.simpleValue=i),disabled:e.disabled,"var-pagination-cover":"",onBlur:l[2]||(l[2]=i=>e.setPage("simple",e.simpleValue,i)),onKeydown:l[3]||(l[3]=R(i=>e.setPage("simple",e.simpleValue,i),["enter"]))},null,8,["modelValue","disabled"]),C(" / "+v(e.pageCount),1)],2)):(m(!0),b(A,{key:1},_(e.pageList,(i,g)=>S((m(),b("li",{key:i+g,"item-mode":e.getMode(i,g),class:c(["var-pagination__item var-elevation--2",{"var-pagination__item-active":i===e.current&&!e.disabled,"var-pagination__item-hide":e.isHideEllipsis(i,g),"var-pagination__item-disabled":e.disabled,"var-pagination__item-disabled-active":i===e.current&&e.disabled}]),onClick:T=>e.clickItem(i,g)},[C(v(i),1)],10,re)),[[o,{disabled:e.disabled}]])),128)),S(j("li",{class:c(["var-pagination__item var-pagination__next",{"var-pagination__item-disabled":e.current>=e.pageCount||e.disabled,"var-pagination__item-hover":e.simple,"var-elevation--2":!e.simple}]),onClick:l[4]||(l[4]=i=>e.clickItem("next"))},[Q(e.$slots,"next",{},()=>[y(n,{name:"chevron-right"})])],2),[[o,{disabled:e.current>=e.pageCount||e.disabled}]]),e.showSizeChanger?(m(),b("li",{key:2,class:c(["var-pagination__size",{"var-pagination__item-disabled":e.disabled}])},[y($,{show:e.menuVisible,"onUpdate:show":l[6]||(l[6]=i=>e.menuVisible=i),"offset-x":-4},{menu:q(()=>[(m(!0),b(A,null,_(e.sizeOption,(i,g)=>S((m(),ie(z,{class:c(["var-pagination__list",{"var-pagination__list-active":e.size===i}]),key:g,onClick:T=>e.clickSize(i)},{default:q(()=>[C(v(i)+v(e.pack.paginationItem)+" / "+v(e.pack.paginationPage),1)]),_:2},1032,["class","onClick"])),[[o]])),128))]),default:q(()=>[j("div",{class:"var-pagination__size-open",style:{display:"flex"},onClick:l[5]||(l[5]=(...i)=>e.showMenu&&e.showMenu(...i))},[j("span",null,v(e.size)+v(e.pack.paginationItem)+" / "+v(e.pack.paginationPage),1),y(n,{class:"var-pagination__size-open-icon","var-pagination-cover":"",name:"menu-down"})])]),_:1},8,["show"])],2)):w("v-if",!0),e.showQuickJumper&&!e.simple?(m(),b("li",{key:3,class:c(["var-pagination__quickly",{"var-pagination__item-disabled":e.disabled}])},[C(v(e.pack.paginationJump)+" ",1),y(u,{modelValue:e.inputValue,"onUpdate:modelValue":l[7]||(l[7]=i=>e.inputValue=i),disabled:e.disabled,"var-pagination-cover":"",onBlur:l[8]||(l[8]=i=>e.setPage("quick",e.inputValue,i)),onKeydown:l[9]||(l[9]=R(i=>e.setPage("quick",e.inputValue,i),["enter"]))},null,8,["modelValue","disabled"])],2)):w("v-if",!0),e.totalText?(m(),b("li",ue,v(e.totalText),1)):w("v-if",!0)])}var Ve=ne(te,[["render",de]]);export{Ve as P};
